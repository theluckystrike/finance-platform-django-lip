"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[14],{5206:(e,s,l)=>{l.d(s,{CQ:()=>f,li:()=>g,Ay:()=>y});var a=l(5043),i=l(1579),t=l(8139),n=l.n(t),r=l(5061),d=l(579);const o=(0,a.forwardRef)(((e,s)=>{let{className:l,isDisabled:a,isActive:i,isPrev:t,isFirst:o,isNext:c,isLast:u,children:m,onClick:h,...p}=e;return(0,d.jsx)("li",{ref:s,className:n()("page-item",{disabled:a,active:i},l),...p,children:(0,d.jsxs)("span",{role:"button",onClick:h,onKeyDown:h,className:"page-link",tabIndex:a?-1:void 0,"aria-disabled":a?"true":void 0,"aria-label":(t?"First Page":c&&"Last Page")||`${m} page`,children:[t&&(0,d.jsx)(r.A,{icon:"ChevronLeft",size:"20px"}),o&&(0,d.jsx)(r.A,{icon:"FirstPage",size:"20px"}),c&&(0,d.jsx)(r.A,{icon:"ChevronRight",size:"20px"}),u&&(0,d.jsx)(r.A,{icon:"LastPage",size:"20px"}),m]})})}));o.displayName="PaginationItem",o.defaultProps={className:void 0,isDisabled:!1,isActive:!1,isPrev:!1,isFirst:!1,isNext:!1,isLast:!1,children:null,onClick:void 0};const c=(0,a.forwardRef)(((e,s)=>{let{ariaLabel:l,className:a,children:i,size:t,...r}=e;return(0,d.jsx)("nav",{ref:s,"aria-label":l,className:a,...r,children:(0,d.jsx)("ul",{className:n()("pagination",{[`pagination-${t}`]:t},"m-0"),children:i})})}));c.displayName="Pagination",c.defaultProps={className:void 0,size:null};const u=c,m=e=>{let{children:s,value:l,disabled:a,ariaLabelledby:i,...t}=e;return(0,d.jsx)("option",{value:l,disabled:a,"aria-labelledby":i||s,...t,children:s})};m.defaultProps={disabled:!1,ariaLabelledby:null,value:void 0};const h=e=>{let{list:s}=e;return null===s||void 0===s?void 0:s.map((e=>(0,d.jsx)(m,{value:e.value,...e,children:e.text||e.label},e.value)))},p=m,x=e=>{let{isTouched:s,invalidFeedback:l,validFeedback:i,isTooltip:t}=e;const r=(0,a.useRef)(null);return(0,a.useEffect)((()=>{if(t)for(let i=0;i<(null===r||void 0===r||null===(e=r.current)||void 0===e?void 0:e.parentNode.classList.length);i+=1){var e,s,l,a;if(["input-group"].includes(null===r||void 0===r||null===(s=r.current)||void 0===s?void 0:s.parentNode.classList[i]))null===r||void 0===r||null===(l=r.current)||void 0===l||l.parentNode.parentNode.classList.add("position-relative");else null===r||void 0===r||null===(a=r.current)||void 0===a||a.parentNode.classList.add("position-relative")}})),s&&l?(0,d.jsx)("div",{ref:r,className:n()({"invalid-feedback":!t,"invalid-tooltip":t}),children:l}):!l&&i&&(0,d.jsx)("div",{ref:r,className:n()({"valid-feedback":!t,"valid-tooltip":t}),children:i})};x.defaultProps={isTouched:!1,invalidFeedback:void 0,validFeedback:void 0,isTooltip:!1};const v=x,b=(0,a.forwardRef)(((e,s)=>{let{id:l,name:a,className:i,children:t,required:r,placeholder:o,ariaDescribedby:c,ariaLabelledby:u,ariaLabel:m,list:x,multiple:b,title:j,size:f,disabled:g,value:N,defaultValue:y,isValid:k,isTouched:C,invalidFeedback:S,validFeedback:w,isValidMessage:F,isTooltipFeedback:A,onBlur:P,onChange:L,onFocus:D,onInput:I,onInvalid:z,onSelect:R,...T}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("select",{ref:s,id:l,className:n()("form-select",{[`form-select-${f}`]:f,"text-muted":""===N&&o,"is-invalid":!k&&C&&S,"is-valid":!k&&C&&!S},i),name:a,"aria-label":m,"aria-describedby":c,"aria-labelledby":u,multiple:b,disabled:g,title:j,value:N,defaultValue:y,required:r,onBlur:P,onChange:L,onFocus:D,onInput:I,onInvalid:z,onSelect:R,...T,children:[o&&(0,d.jsx)(p,{value:"",hidden:!0,children:o}),t||x&&(0,d.jsx)(h,{list:x})]}),F&&(0,d.jsx)(v,{isTouched:C,invalidFeedback:S,validFeedback:w,isTooltip:A})]})}));b.displayName="Select",b.defaultProps={id:void 0,className:void 0,name:void 0,children:null,placeholder:void 0,multiple:!1,size:void 0,disabled:!1,required:!1,ariaDescribedby:void 0,ariaLabelledby:void 0,title:void 0,value:void 0,defaultValue:void 0,list:void 0,isTouched:!1,isValid:!1,invalidFeedback:void 0,validFeedback:void 0,isValidMessage:!0,isTooltipFeedback:!1,onBlur:void 0,onChange:void 0,onFocus:void 0,onInput:void 0,onInvalid:void 0,onSelect:void 0};const j=b,f={3:3,5:5,10:10,25:25,50:50},g=(e,s,l)=>e.filter(((e,a)=>a+1>(s-1)*l&&a+1<=s*l)),N=e=>{let{setCurrentPage:s,currentPage:l,perPage:a,setPerPage:t,data:n,label:r}=e;const c=n.length,m=Math.ceil(c/a);return(0,d.jsxs)(i.A,{className:"row w-100",children:[(0,d.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-7",children:(0,d.jsx)("span",{className:"text-muted",children:(()=>{const e=a*(l-1)+1,s=a*l;return(0,d.jsxs)("span",{className:"pagination__desc",children:["Showing ",e," to ",s>c?c:s," of ",c," ",r]})})()})}),(0,d.jsxs)("div",{className:"d-flex justify-content-end col-sm-12 col-md-6 col-lg-5",children:[m>1&&(0,d.jsxs)(u,{ariaLabel:r,children:[(0,d.jsx)(o,{isFirst:!0,isDisabled:!(l-1>0),onClick:()=>s(1)}),(0,d.jsx)(o,{isPrev:!0,isDisabled:!(l-1>0),onClick:()=>s(l-1)}),l-1>1&&(0,d.jsx)(o,{onClick:()=>s(l-2),children:"..."}),(()=>{let e=[],a=l-1;for(;a>=l-1&&a>0;)e.push((0,d.jsx)(o,{onClick:()=>s(l-1),children:a},a)),a-=1;for(e=e.reverse(),e.push((0,d.jsx)(o,{isActive:!0,onClick:()=>s(l),children:l},l)),a=l+1;a<=l+1&&a<=m;)e.push((0,d.jsx)(o,{onClick:()=>s(l+1),children:a},a)),a+=1;return e})(),l+1<m&&(0,d.jsx)(o,{onClick:()=>s(l+2),children:"..."}),(0,d.jsx)(o,{isNext:!0,isDisabled:!(l+1<=m),onClick:()=>s(l+1)}),(0,d.jsx)(o,{isLast:!0,isDisabled:!(l+1<=m),onClick:()=>s(m)})]}),(0,d.jsx)(j,{style:{width:"67px",padding:" 0px 0px 0px 12px"},ariaLabel:"Per",onChange:e=>{t(parseInt(e.target.value,10)),s(1)},value:a.toString(),children:Object.keys(f).map((e=>(0,d.jsx)(p,{value:e,children:e},e)))})]})]})};N.defaultProps={label:"items"};const y=N},9632:(e,s,l)=>{l.d(s,{A:()=>i});var a=l(5043);const i=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[l,i]=(0,a.useState)(s);return{items:(0,a.useMemo)((()=>{const s=[...e];return null!==l&&s.sort(((e,s)=>{const a=e[l.key],i=s[l.key];if(!isNaN(Date.parse(a))&&!isNaN(Date.parse(i))){const e=new Date(a),s=new Date(i);if(e<s)return"ascending"===l.direction?-1:1;if(e>s)return"ascending"===l.direction?1:-1}else{if(a<i)return"ascending"===l.direction?-1:1;if(a>i)return"ascending"===l.direction?1:-1}return 0})),s}),[e,l]),requestSort:e=>{let s="ascending";l&&l.key===e&&"ascending"===l.direction&&(s="descending"),i({key:e,direction:s})},getClassNamesFor:e=>l&&l.key===e?l.direction:"d-none",sortConfig:l}}},9033:(e,s,l)=>{l.d(s,{A:()=>i});l(5043);var a=l(579);const i=e=>{let{isoString:s}=e;const l=new Date(s).toLocaleString();return(0,a.jsx)(a.Fragment,{children:l})}},14:(e,s,l)=>{l.r(s),l.d(s,{default:()=>A});var a,i=l(5043),t=(l(1511),l(3219),l(3216)),n=l(5475),r=l(3003),d=l(3686),o=l(9033),c=l(6792),u=l(5206),m=l(5061),h=l(9632),p=l(1468),x=l(7500),v=new Uint8Array(16);function b(){if(!a&&!(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(v)}const j=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const f=function(e){return"string"===typeof e&&j.test(e)};for(var g=[],N=0;N<256;++N)g.push((N+256).toString(16).substr(1));const y=function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=(g[e[s+0]]+g[e[s+1]]+g[e[s+2]]+g[e[s+3]]+"-"+g[e[s+4]]+g[e[s+5]]+"-"+g[e[s+6]]+g[e[s+7]]+"-"+g[e[s+8]]+g[e[s+9]]+"-"+g[e[s+10]]+g[e[s+11]]+g[e[s+12]]+g[e[s+13]]+g[e[s+14]]+g[e[s+15]]).toLowerCase();if(!f(l))throw TypeError("Stringified UUID is invalid");return l};const k=function(e,s,l){var a=(e=e||{}).random||(e.rng||b)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,s){l=l||0;for(var i=0;i<16;++i)s[l+i]=a[i];return s}return y(a)};var C=l(4193),S=l(5094),w=l(579);const F=e=>{var s,l;let{show:a,handleClose:t}=e;const n=(0,r.wA)(),d=(0,r.d4)((e=>e)),o=((0,C.A)(),(null===d||void 0===d||null===(s=d.script)||void 0===s||null===(l=s.Scripts)||void 0===l?void 0:l.results)||[]),[c,u]=(0,i.useState)(""),[h,v]=(0,i.useState)({}),[b,j]=(0,i.useState)(""),[f,g]=(0,i.useState)(""),N=o.filter((e=>!h[e.id])).map((e=>({value:e.id,label:e.name})));return(0,w.jsx)(p.A,{size:"lg",fullscreen:"md-down","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:a,onHide:t,children:(0,w.jsxs)(p.A.Body,{className:"bg-light-green",style:{borderRadius:"25px"},children:[(0,w.jsx)("h5",{children:"Create Tap Summary"}),(0,w.jsx)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{const e={name:c,scripts:h};await n((0,S.uK)({values:e})),t()})()},children:(0,w.jsx)("div",{className:"mb-3",children:(0,w.jsxs)("div",{className:"row mx-0 px-3",children:[(0,w.jsxs)("div",{className:"col-12 m-0",children:[(0,w.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),(0,w.jsx)("input",{id:"name",name:"name",className:"form-control m-0",value:c,onChange:e=>u(e.target.value)})]}),(0,w.jsxs)("div",{className:"col-5 mb-2",children:[(0,w.jsx)("label",{htmlFor:"scripts",className:"form-label",children:"Select Script"}),(0,w.jsx)(x.Ay,{id:"scripts",options:N,value:N.find((e=>e.value===b))||null,onChange:e=>j(e?e.value:""),placeholder:"Select a Script"})]}),(0,w.jsxs)("div",{className:"col-5 mb-2",children:[(0,w.jsx)("label",{htmlFor:"column",className:"form-label",children:"Column Name"}),(0,w.jsx)("input",{type:"text",id:"column",className:"form-control",value:f,onChange:e=>g(e.target.value),placeholder:"Enter Column Name"})]}),(0,w.jsxs)("div",{className:"col-2 mb-3 text-center",children:[(0,w.jsx)("label",{htmlFor:"column",className:"form-label invisible",children:"Name"}),(0,w.jsx)("button",{type:"button",className:"btn btn-dark",onClick:()=>{b&&f&&(v((e=>({...e,[b]:f}))),j(""),g(""))},children:(0,w.jsx)(m.A,{size:"20px",icon:"Add"})})]}),(0,w.jsxs)("div",{className:"col-12",style:{maxHeight:"200px",overflow:"auto"},children:[(0,w.jsx)("h6",{children:"Scripts to Include:"}),(0,w.jsx)("ul",{children:Object.entries(h).map((e=>{let[s,l]=e;return(0,w.jsxs)("li",{children:["Script ID: ",s,", Column: ",l]},k())}))})]}),(0,w.jsxs)("div",{className:"col-12 row justify-content-evenly m-0",children:[(0,w.jsx)("button",{onClick:t,className:"btn btn-dark col-5 px-3 fw-bold",type:"button",children:"Close"}),(0,w.jsx)("button",{type:"submit",className:"btn btn-dark col-5 px-3 fw-bold",children:"Create"})]})]})})})]})})},A=()=>{var e,s,l,a;const p=(0,r.wA)(),x=(0,r.d4)((e=>e)),[v,b]=(0,i.useState)([]),{loading:j}=null===x||void 0===x?void 0:x.summary,f=null===x||void 0===x||null===(e=x.summary)||void 0===e||null===(s=e.summerys)||void 0===s?void 0:s.results,[g,N]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=localStorage.getItem("login");e&&N(JSON.parse(e))}),[]),(0,i.useEffect)((()=>{if(g){(async()=>{try{await p((0,d.Y0)({token:null===g||void 0===g?void 0:g.access})),await p((0,S.pZ)({token:null===g||void 0===g?void 0:g.access}))}catch(e){console.log(e)}})()}}),[g]);const[y,k]=(0,i.useState)(1),[C,A]=(0,i.useState)(u.CQ[10]),[P,L]=(0,i.useState)(!1),[D,I]=(0,i.useState)(!1),z=((0,t.Zp)(),e=>{e&&e.stopPropagation();const s=Array.from(document.querySelectorAll('#scriptsCheckboxes input[type="checkbox"]:checked')).map((e=>e.value));b(s)}),{items:R,requestSort:T,getClassNamesFor:V}=(0,h.A)(f||[]),q=v.length===R.length;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"mx-4",children:[(0,w.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3",children:[(0,w.jsxs)("h1",{className:"h1 ",children:["Tape Summary ",(0,w.jsxs)("span",{id:"headerInfo",children:["(",R.length,")"]})]}),(0,w.jsx)("div",{className:"btn-toolbar mb-2 mb-md-0  ",children:(0,w.jsx)("button",{className:"btn bg-green opacity-100 text-light col py-2 px-3 justify-content-center",type:"button",onClick:()=>I(!0),children:"Create Summary"})})]}),(0,w.jsx)("div",{children:j?(0,w.jsx)("span",{className:"text-large",children:(0,w.jsx)(c.A,{})}):(0,w.jsxs)("div",{style:{overflow:"auto"},id:"customReportForm",children:[(0,w.jsx)("div",{className:"py-2",children:(0,w.jsx)(u.Ay,{data:R,label:"Scripts",setCurrentPage:k,currentPage:y,perPage:C,setPerPage:A})}),(0,w.jsxs)("table",{className:"table",style:{minWidth:"1000px"},children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{className:"fw-bold mb-2 p-2",children:[(0,w.jsx)("th",{scope:"col",className:"col-1",children:(0,w.jsx)("input",{type:"checkbox",id:"selectAllCheckbox",checked:q,onChange:e=>{if(e.target.checked){const e=R.map((e=>e.id));b(e)}else b([])}})}),(0,w.jsx)("th",{scope:"col",className:"col-4",onClick:()=>T("name"),children:(0,w.jsxs)("h6",{children:[(0,w.jsx)("span",{children:"Name"}),(0,w.jsx)(m.A,{size:"10px",className:V("name"),icon:"FilterList"})]})}),(0,w.jsx)("th",{scope:"col",className:"col-2 text-center mx-auto",onClick:()=>T("created"),children:(0,w.jsxs)("h6",{children:[(0,w.jsx)("span",{children:"Created"}),(0,w.jsx)(m.A,{size:"10px",className:V("created"),icon:"FilterList"})]})}),(0,w.jsx)("th",{scope:"col",className:"col-2 text-center mx-auto",onClick:()=>T("last_updated"),children:(0,w.jsxs)("h6",{children:[(0,w.jsx)("span",{children:"Updated"}),(0,w.jsx)(m.A,{size:"10px",className:V("last_updated"),icon:"FilterList"})]})})]})}),(0,w.jsx)("tbody",{id:"scriptsCheckboxes",children:R.length>0?(0,u.li)(R,y,C).map(((e,s)=>(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("tr",{className:"table-card rounded-3 bg-light-green mb-2 p-3",style:{borderRadius:"10px"},children:[(0,w.jsx)("td",{className:"col-1",children:(0,w.jsx)("input",{type:"checkbox",checked:v.includes(e.id),onChange:()=>z(e.id)})}),(0,w.jsx)("td",{className:"col-4",children:(0,w.jsx)(n.N_,{to:`/account/tape-summary-results/${e.id}`,className:"text-decoration-none text-black",children:(0,w.jsx)("span",{className:"fw-bold",children:e.name})})}),(0,w.jsx)("td",{className:"col-2 text-center mx-auto",children:(0,w.jsx)(o.A,{isoString:e.created})}),(0,w.jsx)("td",{className:"col-2 text-center mx-auto",children:(0,w.jsx)(o.A,{isoString:e.last_updated})})]},s),(0,w.jsx)("tr",{style:{height:"10px"}})]}))):(0,w.jsx)("tr",{children:(0,w.jsx)("td",{colSpan:6,children:0===(null===x||void 0===x||null===(l=x.script)||void 0===l||null===(a=l.Scripts)||void 0===a?void 0:a.count)?(0,w.jsx)("p",{children:"No scripts found"}):(0,w.jsx)(c.A,{})})})})]})]})})]}),(0,w.jsx)(F,{show:D,handleClose:()=>I(!1)})]})}},1511:()=>{}}]);
//# sourceMappingURL=14.a8bb58f8.chunk.js.map