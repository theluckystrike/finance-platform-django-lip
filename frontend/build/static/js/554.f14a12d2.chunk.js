"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[554],{7120:(e,s,t)=>{t.d(s,{A:()=>u});var n=t(5043),l=t(3576),a=t(3003),c=t(3686),i=t(3892),r=t(899),o=t(4757),d=t(3708),m=t(579);const u=e=>{var s,t;let{show:u,handleClose:x}=e;const h=(0,a.wA)(),p=(0,a.d4)((e=>e)),v=(null===p||void 0===p||null===(s=p.script)||void 0===s||null===(t=s.Scripts)||void 0===t?void 0:t.results)||[],[j,b]=(0,n.useState)(null);(0,n.useEffect)((()=>{const e=localStorage.getItem("login");e&&b(JSON.parse(e))}),[]),(0,n.useEffect)((()=>{(async()=>{try{await h((0,c.Y0)({token:null===j||void 0===j?void 0:j.access}))}catch(e){}})()}),[j,h]);const N=v.map((e=>({value:e.id,label:e.name}))),f=r.Ik({name:r.Yj().required("Name is required"),scripts:r.YO().of(r.Yj()).min(1,"At least one script must be selected")});return(0,m.jsx)(l.A,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:u,onHide:x,children:(0,m.jsxs)(l.A.Body,{className:"bg-light-green",style:{borderRadius:"25px",overflow:"hidden"},children:[(0,m.jsx)("h5",{children:"Create Reports"}),(0,m.jsx)(i.l1,{initialValues:{name:"",scripts:[]},validationSchema:f,onSubmit:e=>{h((0,d.Yn)({values:e,token:j.access})),x()},children:e=>{let{setFieldValue:s,values:t}=e;return(0,m.jsx)(i.lV,{children:(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsxs)("div",{className:"row mx-0 px-3",children:[(0,m.jsxs)("div",{className:"col-12 m-0",children:[(0,m.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),(0,m.jsx)(i.D0,{id:"name",name:"name",className:"form-control m-0",required:!0}),(0,m.jsx)(i.Kw,{name:"name",component:"div",className:"text-danger"})]}),(0,m.jsxs)("div",{className:"col-12",children:[(0,m.jsx)("label",{htmlFor:"scripts",className:"form-label",children:"Scripts"}),(0,m.jsx)(o.Ay,{id:"scripts",name:"scripts",isMulti:!0,options:N,onChange:e=>{const t=e?e.map((e=>e.value)):[];s("scripts",t)},placeholder:"Select Scripts"}),(0,m.jsx)(i.Kw,{name:"scripts",component:"div",className:"text-danger"})]}),(0,m.jsxs)("div",{className:"col-12 row justify-content-evenly m-0",children:[(0,m.jsx)("button",{onClick:x,className:"btn btn-dark col-5 px-3 fw-bold",type:"button",children:"Close"}),(0,m.jsx)("button",{type:"submit",className:"btn btn-dark col-5 px-3 fw-bold",children:"Create"})]})]})})})}})]})})}},9632:(e,s,t)=>{t.d(s,{A:()=>l});var n=t(5043);const l=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[t,l]=(0,n.useState)(s);return{items:(0,n.useMemo)((()=>{const s=[...e];return null!==t&&s.sort(((e,s)=>{const n=e[t.key],l=s[t.key];if(!isNaN(Date.parse(n))&&!isNaN(Date.parse(l))){const e=new Date(n),s=new Date(l);if(e<s)return"ascending"===t.direction?-1:1;if(e>s)return"ascending"===t.direction?1:-1}else{if(n<l)return"ascending"===t.direction?-1:1;if(n>l)return"ascending"===t.direction?1:-1}return 0})),s}),[e,t]),requestSort:e=>{let s="ascending";t&&t.key===e&&"ascending"===t.direction&&(s="descending"),l({key:e,direction:s})},getClassNamesFor:e=>t&&t.key===e?t.direction:"d-none",sortConfig:t}}},9554:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var n=t(5043),l=(t(1511),t(5061)),a=t(5475),c=t(3708),i=t(3003),r=t(9632),o=t(6792),d=t(7120),m=t(579);const u=()=>{var e,s;const t=(0,i.wA)(),[u,x]=(0,n.useState)(null),h=(0,i.d4)((e=>e)),{loading:p}=null===h||void 0===h?void 0:h.report,v=null===h||void 0===h||null===(e=h.report)||void 0===e||null===(s=e.reports)||void 0===s?void 0:s.results,{items:j,requestSort:b,getClassNamesFor:N}=(0,r.A)(v||[]);(0,n.useEffect)((()=>{const e=localStorage.getItem("login");e&&x(JSON.parse(e))}),[]),(0,n.useEffect)((()=>{(async()=>{try{await t((0,c.LT)({token:null===u||void 0===u?void 0:u.access}))}catch(e){}})()}),[u]);const[f,g]=(0,n.useState)(!1);return(0,m.jsxs)("div",{className:"mx-4",children:[(0,m.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3",children:[(0,m.jsx)("h1",{className:"h1 fw-bold",children:"Reports "}),(0,m.jsx)("div",{className:"btn-toolbar mb-2 mb-md-0",children:(0,m.jsxs)("button",{onClick:()=>{g(!0)},type:"button",className:"btn icon-button my-1 mx-2",children:[(0,m.jsx)(l.A,{icon:"AddChart",size:"20px"}),(0,m.jsx)("span",{children:"Merge"})]})})]}),(0,m.jsx)("div",{children:j.length>0?(0,m.jsxs)("form",{method:"post",id:"customReportForm",children:[(0,m.jsxs)("div",{className:"row mb-2 p-2 fw-bold w-100",children:[(0,m.jsx)("div",{className:"col-1",children:(0,m.jsx)("h5",{children:"Sr no."})}),(0,m.jsx)("div",{className:"col-7",children:(0,m.jsx)("h5",{children:"Report Name"})}),(0,m.jsx)("div",{className:"col-2 mx-auto text-center",children:"Created"}),(0,m.jsx)("div",{className:"col-2 mx-auto text-center",children:"Last updated"})]}),(0,m.jsx)("div",{id:"scriptsCheckboxes",children:j.map(((e,s)=>(0,m.jsx)(a.N_,{to:`/account/ReportDetails/${e.id}`,className:"text-decoration-none text-black",children:(0,m.jsxs)("div",{className:"row mb-2 p-3 table-card rounded-3 w-100 bg-light-green",children:[(0,m.jsx)("div",{className:"col-1",children:(0,m.jsx)("span",{className:"fw-bold fs-6",children:s+1})}),(0,m.jsx)("div",{className:"col-7",children:(0,m.jsx)("span",{className:"fw-bold fs-6",children:e.name})}),(0,m.jsx)("div",{className:"col-2 mx-auto text-center",children:e.created}),(0,m.jsx)("div",{className:"col-2 mx-auto text-center",children:e.last_updated})]})},e.id)))})]}):(0,m.jsx)(o.A,{})}),(0,m.jsx)(d.A,{show:f,handleClose:()=>g(!1)})]})}},1511:()=>{}}]);
//# sourceMappingURL=554.f14a12d2.chunk.js.map