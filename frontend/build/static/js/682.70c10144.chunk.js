"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[682],{7120:(e,s,t)=>{t.d(s,{A:()=>u});var l=t(5043),n=t(3576),a=t(3003),r=t(3686),c=t(3892),i=t(899),o=t(4757),d=t(3708),m=t(579);const u=e=>{var s,t;let{show:u,handleClose:x}=e;const h=(0,a.wA)(),p=(0,a.d4)((e=>e)),j=(null===p||void 0===p||null===(s=p.script)||void 0===s||null===(t=s.Scripts)||void 0===t?void 0:t.results)||[],[v,b]=(0,l.useState)(null);(0,l.useEffect)((()=>{const e=localStorage.getItem("login");e&&b(JSON.parse(e))}),[]),(0,l.useEffect)((()=>{(async()=>{try{await h((0,r.Y0)({token:null===v||void 0===v?void 0:v.access}))}catch(e){}})()}),[v,h]);const N=j.map((e=>({value:e.id,label:e.name}))),f=i.Ik({name:i.Yj().required("Name is required"),scripts:i.YO().of(i.Yj()).min(1,"At least one script must be selected")});return(0,m.jsx)(n.A,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:u,onHide:x,children:(0,m.jsxs)(n.A.Body,{className:"bg-light-green",style:{borderRadius:"25px",overflow:"hidden"},children:[(0,m.jsx)("h5",{children:"Create Reports"}),(0,m.jsx)(c.l1,{initialValues:{name:"",scripts:[]},validationSchema:f,onSubmit:e=>{h((0,d.Yn)({values:e,token:v.access})),x()},children:e=>{let{setFieldValue:s,values:t}=e;return(0,m.jsx)(c.lV,{children:(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsxs)("div",{className:"row mx-0 px-3",children:[(0,m.jsxs)("div",{className:"col-12 m-0",children:[(0,m.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),(0,m.jsx)(c.D0,{id:"name",name:"name",className:"form-control m-0",required:!0}),(0,m.jsx)(c.Kw,{name:"name",component:"div",className:"text-danger"})]}),(0,m.jsxs)("div",{className:"col-12",children:[(0,m.jsx)("label",{htmlFor:"scripts",className:"form-label",children:"Scripts"}),(0,m.jsx)(o.Ay,{id:"scripts",name:"scripts",isMulti:!0,options:N,onChange:e=>{const t=e?e.map((e=>e.value)):[];s("scripts",t)},placeholder:"Select Scripts"}),(0,m.jsx)(c.Kw,{name:"scripts",component:"div",className:"text-danger"})]}),(0,m.jsxs)("div",{className:"col-12 row justify-content-evenly m-0",children:[(0,m.jsx)("button",{onClick:x,className:"btn btn-dark col-5 px-3 fw-bold",type:"button",children:"Close"}),(0,m.jsx)("button",{type:"submit",className:"btn btn-dark col-5 px-3 fw-bold",children:"Create"})]})]})})})}})]})})}},9632:(e,s,t)=>{t.d(s,{A:()=>n});var l=t(5043);const n=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[t,n]=(0,l.useState)(s);return{items:(0,l.useMemo)((()=>{const s=[...e];return null!==t&&s.sort(((e,s)=>{const l=e[t.key],n=s[t.key];if(!isNaN(Date.parse(l))&&!isNaN(Date.parse(n))){const e=new Date(l),s=new Date(n);if(e<s)return"ascending"===t.direction?-1:1;if(e>s)return"ascending"===t.direction?1:-1}else{if(l<n)return"ascending"===t.direction?-1:1;if(l>n)return"ascending"===t.direction?1:-1}return 0})),s}),[e,t]),requestSort:e=>{let s="ascending";t&&t.key===e&&"ascending"===t.direction&&(s="descending"),n({key:e,direction:s})},getClassNamesFor:e=>t&&t.key===e?t.direction:"d-none",sortConfig:t}}},9033:(e,s,t)=>{t.d(s,{A:()=>n});t(5043);var l=t(579);const n=e=>{let{isoString:s}=e;const t=new Date(s).toLocaleString();return(0,l.jsx)(l.Fragment,{children:t})}},5682:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var l=t(5043),n=(t(1511),t(5061)),a=t(5475),r=t(3576),c=t(3003),i=t(3686),o=t(3892),d=t(899),m=t(4757),u=t(3708),x=t(579);const h=e=>{var s,t;let{show:n,handleClose:a,allreport:h}=e;const p=(0,c.wA)(),j=(0,c.d4)((e=>e)),[v,b]=(null===j||void 0===j||null===(s=j.script)||void 0===s||null===(t=s.Scripts)||void 0===t||t.results,(0,l.useState)(null));(0,l.useEffect)((()=>{const e=localStorage.getItem("login");e&&b(JSON.parse(e))}),[]),(0,l.useEffect)((()=>{(async()=>{try{await p((0,i.Y0)({token:null===v||void 0===v?void 0:v.access}))}catch(e){}})()}),[v,p]);const N=h&&h.map((e=>({value:e.id,label:e.name}))),f=d.Ik({name:d.Yj().required("Name is required"),scripts:d.YO().of(d.Yj()).min(1,"At least one script must be selected")});return(0,x.jsx)(r.A,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:n,onHide:a,children:(0,x.jsxs)(r.A.Body,{className:"bg-light-green",style:{borderRadius:"25px",overflow:"hidden"},children:[(0,x.jsx)("h5",{children:"Merge Reports"}),(0,x.jsx)(o.l1,{initialValues:{name:"",reports:[]},validationSchema:f,onSubmit:e=>{p((0,u.Mg)({values:e,token:v.access})),a()},children:e=>{let{setFieldValue:s,values:t}=e;return(0,x.jsx)(o.lV,{children:(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsxs)("div",{className:"row mx-0 px-3",children:[(0,x.jsxs)("div",{className:"col-12 m-0",children:[(0,x.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),(0,x.jsx)(o.D0,{id:"name",name:"name",className:"form-control m-0",required:!0}),(0,x.jsx)(o.Kw,{name:"name",component:"div",className:"text-danger"})]}),(0,x.jsxs)("div",{className:"col-12",children:[(0,x.jsx)("label",{htmlFor:"scripts",className:"form-label",children:"Reports"}),(0,x.jsx)(m.Ay,{id:"reports",name:"reports",isMulti:!0,options:N,onChange:e=>{const t=e?e.map((e=>e.value)):[];s("reports",t)},placeholder:"Select Scripts"}),(0,x.jsx)(o.Kw,{name:"scripts",component:"div",className:"text-danger"})]}),(0,x.jsxs)("div",{className:"col-12 row justify-content-evenly m-0",children:[(0,x.jsx)("button",{onClick:a,className:"btn btn-dark col-5 px-3 fw-bold",type:"button",children:"Close"}),(0,x.jsx)("button",{type:"submit",className:"btn btn-dark col-5 px-3 fw-bold",children:"Create"})]})]})})})}})]})})};var p=t(9632),j=t(6792),v=t(7120),b=t(9033);const N=()=>{var e,s;const t=(0,c.wA)(),[r,i]=(0,l.useState)(null),o=(0,c.d4)((e=>e)),{loading:d}=null===o||void 0===o?void 0:o.report,m=null===o||void 0===o||null===(e=o.report)||void 0===e||null===(s=e.reports)||void 0===s?void 0:s.results,{items:N,requestSort:f,getClassNamesFor:g}=(0,p.A)(m||[]);(0,l.useEffect)((()=>{const e=localStorage.getItem("login");e&&i(JSON.parse(e))}),[]),(0,l.useEffect)((()=>{(async()=>{try{await t((0,u.LT)({token:null===r||void 0===r?void 0:r.access}))}catch(e){}})()}),[r]);const[w,y]=(0,l.useState)(!1),[S,k]=(0,l.useState)(!1);return(0,x.jsxs)("div",{className:"mx-4",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3",children:[(0,x.jsx)("h1",{className:"h1 fw-bold",children:"Reports "}),(0,x.jsx)("div",{className:"btn-toolbar mb-2 mb-md-0",children:(0,x.jsxs)("button",{onClick:()=>k(!0),type:"button",className:"btn icon-button my-1 mx-2",children:[(0,x.jsx)(n.A,{icon:"AddChart",size:"20px"}),(0,x.jsx)("span",{children:"Merge"})]})})]}),(0,x.jsx)("div",{children:N.length>0?(0,x.jsxs)("form",{method:"post",id:"customReportForm",children:[(0,x.jsxs)("div",{className:"row mb-2 p-2 fw-bold w-100",children:[(0,x.jsx)("div",{className:"col-1",children:(0,x.jsx)("h5",{children:"Sr no."})}),(0,x.jsx)("div",{className:"col-7",children:(0,x.jsx)("h5",{children:"Report Name"})}),(0,x.jsx)("div",{className:"col-2 mx-auto text-center",children:"Created"}),(0,x.jsx)("div",{className:"col-2 mx-auto text-center",children:"Last updated"})]}),(0,x.jsx)("div",{id:"scriptsCheckboxes",children:N.map(((e,s)=>(0,x.jsx)(a.N_,{to:`/account/ReportDetails/${e.id}`,className:"text-decoration-none text-black",children:(0,x.jsxs)("div",{className:"row mb-2 p-3 table-card rounded-3 w-100 bg-light-green",children:[(0,x.jsx)("div",{className:"col-1",children:(0,x.jsx)("span",{className:"fw-bold fs-6",children:s+1})}),(0,x.jsx)("div",{className:"col-7",children:(0,x.jsx)("span",{className:"fw-bold fs-6",children:e.name})}),(0,x.jsx)("div",{className:"col-2 mx-auto text-center",children:(0,x.jsx)(b.A,{isoString:e.created})}),(0,x.jsx)("div",{className:"col-2 mx-auto text-center",children:(0,x.jsx)(b.A,{isoString:e.last_updated})})]})},e.id)))})]}):(0,x.jsx)(j.A,{})}),(0,x.jsx)(v.A,{show:w,handleClose:()=>y(!1)}),(0,x.jsx)(h,{show:S,handleClose:()=>k(!1),allreport:m})]})}},1511:()=>{}}]);
//# sourceMappingURL=682.70c10144.chunk.js.map