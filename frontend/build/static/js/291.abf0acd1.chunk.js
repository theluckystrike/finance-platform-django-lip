"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[291],{4051:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(5043),o=(a(1511),a(5061)),s=a(3216),i=a(1988),l=a(579);function r(e){let{code:t,setCode:a}=e;const[o,s]=(0,n.useState)("python");return(0,l.jsx)("div",{children:(0,l.jsx)(i.A,{value:t,language:"python",placeholder:"Please enter python code.",onChange:e=>a(e.target.value),padding:15,minHeight:300,"data-color-mode":"dark",style:{maxHeight:"500px",overflowY:"auto",fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Consolas, Liberation Mono, Menlo, monospace"}})})}var d=a(3003),c=a(6213),u=a(2879),p=a(4193);const m=()=>{var e;const t=(0,s.Zp)(),a=(0,d.d4)((e=>e)),i=null===a||void 0===a||null===(e=a.script)||void 0===e?void 0:e.Script,m=(0,p.A)(),[v,h]=(0,n.useState)(""),[x,f]=(0,n.useState)((null===i||void 0===i?void 0:i.description)||"");(0,n.useEffect)((()=>{(()=>{const e=null===i||void 0===i?void 0:i.file,t=new XMLHttpRequest;t.open("GET",e,!0),t.onreadystatechange=function(){4===t.readyState&&200===t.status&&h(t.responseText)},t.send()})()}),[i]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"m-4",children:[(0,l.jsxs)("div",{className:"d-flex flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-2 text-center",children:[(0,l.jsx)("button",{className:"btn mb-3",onClick:()=>t(-1),children:(0,l.jsx)(o.A,{icon:"ArrowBack",size:"45px",color:"dark"})})," ",(0,l.jsxs)("h1",{className:"h1 fw-bold ",children:["Editing (",null===i||void 0===i?void 0:i.name,")"]})]}),(0,l.jsx)("div",{className:"d-flex justify-content-center",children:(0,l.jsxs)("form",{className:"w-75",onSubmit:async e=>{e.preventDefault();const a=new FormData,n=new Blob([v],{type:"text/plain"});a.append("file",n,`${null===i||void 0===i?void 0:i.name}.py`),a.append("description",x);try{200===(await c.A.patch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL}api/scripts/${null===i||void 0===i?void 0:i.id}`,a,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${null===u.V||void 0===u.V?void 0:u.V.access}`}})).status&&(t(`/account/ScriptDetails/${null===i||void 0===i?void 0:i.id}`),m.SuccessToast("New Category added successfully"))}catch(o){console.error("Error updating script:",o)}},encType:"multipart/form-data",children:[(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"Description",className:"form-label",children:"Description"}),(0,l.jsx)("textarea",{rows:3,id:"Description",name:"Description",className:"form-control",value:x,onChange:e=>f(e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"Code",className:"form-label",children:"Code"}),(0,l.jsx)(r,{code:v,setCode:h})]}),(0,l.jsx)("div",{className:"mx-auto text-center",children:(0,l.jsx)("button",{type:"submit",className:"btn btn-dark px-5",children:"Save Changes"})})]})})]})})}},1511:()=>{}}]);
//# sourceMappingURL=291.abf0acd1.chunk.js.map