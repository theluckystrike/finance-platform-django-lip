"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[437],{6792:(e,s,t)=>{t.d(s,{A:()=>a});t(5043);var l=t(579);const a=()=>(0,l.jsxs)("div",{className:"loader-center",children:[" ",(0,l.jsx)("div",{className:"  spinner-border text-dark",role:"status"})]})},9033:(e,s,t)=>{t.d(s,{A:()=>a});t(5043);var l=t(579);const a=e=>{let{isoString:s}=e;const t=new Date(s).toLocaleString();return(0,l.jsx)(l.Fragment,{children:t})}},9437:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var l=t(5043),a=(t(1511),t(5061)),n=t(3576),c=t(579);const i=e=>{let{show:s,handleClose:t}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(n.A,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:s,onHide:t,children:(0,c.jsx)(n.A.Body,{className:"bg-light-green",style:{borderRadius:"25px",overflow:"hidden"},children:(0,c.jsx)("form",{method:"post",encType:"multipart/form-data",children:(0,c.jsx)("div",{className:"mb-3",children:(0,c.jsxs)("div",{className:"row mx-0 px-5",children:[(0,c.jsxs)("div",{className:"col-5 m-0 px-4",children:[(0,c.jsx)("label",{htmlFor:"category",className:"form-label",children:"Email"}),(0,c.jsx)("input",{id:"category",name:"category",className:"form-control m-0",required:!0})]}),(0,c.jsxs)("div",{className:"col-5 m-0 px-4",children:[(0,c.jsx)("label",{htmlFor:"category",className:"form-label",children:"Add Script"}),(0,c.jsxs)("select",{id:"category",name:"category",className:"form-select m-0",required:!0,children:[(0,c.jsx)("option",{value:"",disabled:!0,selected:!0,children:"All"}),(0,c.jsx)("option",{value:"Returns",children:"Returns"}),(0,c.jsx)("option",{value:"USD",children:"USD"}),(0,c.jsx)("option",{value:"Bonds",children:"Bonds"}),(0,c.jsx)("option",{value:"CAD",children:"CAD"}),(0,c.jsx)("option",{value:"Breadth",children:"Breadth"})]})]}),(0,c.jsxs)("div",{className:"col-2 row m-0  ",children:[(0,c.jsx)("label",{style:{height:"33px"},htmlFor:"category",className:"invisible",children:"Last Updated"}),(0,c.jsx)("button",{onClick:t,className:"btn btn-dark  px-3   fw-bold  ",type:"button",children:"Apply"})]}),(0,c.jsx)("div",{className:"col-12  row mt-3 px-4",children:(0,c.jsx)("p",{className:"text-center",children:"All reports are sent at 12:00 PM UTC"})})]})})})})})})};var r=t(3003),o=t(3216),d=t(5475),m=t(3686),x=t(3708),h=t(9033),p=t(4193),u=t(6792);const j=()=>{var e,s,t;const{id:n}=(0,o.g)(),j=(0,r.wA)(),[v,b]=(0,l.useState)(null),N=(0,p.A)();(0,l.useEffect)((()=>{const e=localStorage.getItem("login");e&&b(JSON.parse(e))}),[]),(0,l.useEffect)((()=>{j((0,m.r1)(!0));(async()=>{await j((0,x.S$)({id:n,token:null===v||void 0===v?void 0:v.access})),await j((0,m.Y0)({token:null===v||void 0===v?void 0:v.access})),j((0,m.r1)(!1))})()}),[v]);const y=(0,r.d4)((e=>e)),w=null===y||void 0===y||null===(e=y.report)||void 0===e?void 0:e.report,f=(null===y||void 0===y||null===(s=y.script)||void 0===s||null===(t=s.Scripts)||void 0===t?void 0:t.results)||[],{loading:g}=null===y||void 0===y?void 0:y.report,A=f.filter((e=>Array.isArray(null===w||void 0===w?void 0:w.scripts)&&w.scripts.includes(e.id))),[k,S]=(0,l.useState)({name:"",id:""}),[C,D]=(0,l.useState)(!1);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"mx-5 py-3",children:[(0,c.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3",children:[(0,c.jsxs)("h1",{className:"h1",children:["Report Details ",(0,c.jsxs)("span",{id:"headerInfo",children:["(",w.name,")"]})]}),(0,c.jsxs)("div",{className:"btn-toolbar mb-2 mb-md-0",children:[(0,c.jsxs)("button",{onClick:()=>{D(!0)},type:"button",className:"btn icon-button my-1 mx-2",children:[(0,c.jsx)(a.A,{icon:"CalendarToday",size:"20px"}),(0,c.jsx)("span",{children:"Schedule Email"})]}),(0,c.jsxs)("button",{type:"button",className:"btn icon-button my-1 mx-2",children:[(0,c.jsx)(a.A,{icon:"RemoveRedEye",size:"20px"}),(0,c.jsx)("span",{children:"View Latest"})]}),(0,c.jsxs)("button",{type:"button",className:"btn icon-button my-1 mx-2",children:[(0,c.jsx)(a.A,{icon:"Delete",size:"20px"}),(0,c.jsx)("span",{children:"Delete"})]}),(0,c.jsxs)("button",{type:"button",className:"btn icon-button my-1 mx-2",children:[(0,c.jsx)(a.A,{icon:"SystemUpdateAlt",size:"20px"}),(0,c.jsx)("span",{children:"Update"})]}),(0,c.jsxs)("button",{type:"submit",className:"btn icon-button my-1 mx-2",children:[(0,c.jsx)(a.A,{icon:"Info",size:"20px"}),(0,c.jsx)("span",{children:"info"})]})]})]}),(0,c.jsx)("form",{className:"w-75",style:{maxWidth:"600px"},method:"post",encType:"multipart/form-data",children:(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"category",className:"form-label",children:"Add report"}),(0,c.jsxs)("div",{className:"row mx-0 p-0",children:[(0,c.jsx)("div",{className:"col-10 m-0 p-0 pe-1",children:(0,c.jsxs)("div",{className:"dropdown",children:[(0,c.jsx)("input",{type:"text",placeholder:"All",value:k.name}),(0,c.jsx)("div",{className:"dropdown-content",style:{height:"200px",overflow:"auto"},children:f.map(((e,s)=>(0,c.jsx)("span",{onClick:()=>S({name:e.name,id:e.id}),className:"hover-span",children:e.name},s)))})]})}),(0,c.jsx)("button",{className:"btn btn-dark col col-2 p-0 fw-bold justify-content-center",type:"button",disabled:""==k.name,onClick:async()=>{await j((0,x.zg)({values:{name:w.name,scripts:[...w.scripts,k.id]},token:v.access,id:n})),N.SuccessToast("Update Report successfully")},children:"Add"})]})]})}),(0,c.jsx)("div",{children:(0,c.jsxs)("form",{method:"post",id:"customReportForm",children:[(0,c.jsxs)("div",{className:"row mb-2 p-2 fw-bold w-100",children:[(0,c.jsx)("div",{className:"col-5",children:(0,c.jsxs)("h5",{children:[(0,c.jsx)("input",{type:"checkbox",id:"selectAllCheckbox"})," ","Name"]})}),(0,c.jsx)("div",{className:"col-2 mx-auto text-center",children:"Description"}),(0,c.jsx)("div",{className:"col-2 mx-auto text-center",children:"Category"}),(0,c.jsx)("div",{className:"col-2 mx-auto text-center",children:"Created"}),(0,c.jsx)("div",{className:"col-1 mx-auto text-center",children:"Remove"})]}),(0,c.jsx)("div",{id:"reportsCheckboxes",children:A?A.map((e=>{var s;return(0,c.jsx)(d.N_,{to:`/account/ScriptDetails/${e.id}`,className:"text-decoration-none text-black",children:(0,c.jsxs)("div",{className:"row mb-2 p-3 table-card rounded-3 w-100 bg-light-green",children:[(0,c.jsx)("div",{className:"col-5",children:(0,c.jsxs)("span",{className:"fw-bold fs-6",children:[(0,c.jsx)("input",{className:"chbx",type:"checkbox",name:"reports",value:e.id}),e.name]})}),(0,c.jsx)("div",{className:"col-2 mx-auto text-center wrap-word",children:e.Description}),(0,c.jsx)("div",{className:"col-2 mx-auto text-center wrap-word",children:null===e||void 0===e||null===(s=e.category)||void 0===s?void 0:s.name}),(0,c.jsx)("div",{className:"col-2 mx-auto text-center",children:(0,c.jsx)(h.A,{isoString:e.created})}),(0,c.jsx)("div",{className:"col-1 mx-auto text-center",children:(0,c.jsx)("div",{className:"bg-danger p-1 ms-auto",style:{width:"27px",borderRadius:"50%",color:"white"},children:"-"})})]})},e.id)})):(0,c.jsx)(u.A,{})})]})})]}),(0,c.jsx)(i,{show:C,handleClose:()=>D(!1)})]})}},1511:()=>{}}]);
//# sourceMappingURL=437.92798c6b.chunk.js.map