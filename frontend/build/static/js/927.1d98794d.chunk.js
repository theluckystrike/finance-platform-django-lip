"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[927],{2110:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var l=t(5043),c=(t(1511),t(5061)),n=t(7879),a=t(3471),i=t(3003),o=t(5475),r=t(9632),d=t(3686),x=t(9033),h=t(6792),m=t(7120),u=t(5206),p=t(579);const j=()=>{var e,s,t,j;const b=(0,i.wA)(),g=(0,i.d4)((e=>e)),{loading:N}=null===g||void 0===g?void 0:g.script,v=(null===g||void 0===g||null===(e=g.script)||void 0===e||null===(s=e.Scripts)||void 0===s?void 0:s.results)||[],[y,f]=(0,l.useState)([]),[C,A]=(0,l.useState)(null),[S,k]=(0,l.useState)(null);(0,l.useEffect)((()=>{const e=localStorage.getItem("login");e&&A(JSON.parse(e))}),[]),(0,l.useEffect)((()=>{if(C){(async()=>{try{await b((0,d.Y0)({token:null===C||void 0===C?void 0:C.access}))}catch(e){console.log(e)}})()}}),[C]);const[w,F]=(0,l.useState)(!1),[z,_]=(0,l.useState)(!1),[L,P]=(0,l.useState)(!1),{items:D,requestSort:Q,getClassNamesFor:R}=(0,r.A)(v||[]),E=y.length===D.length,[I,q]=(0,l.useState)(1),[B,H]=(0,l.useState)(u.CQ[10]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"mx-4",children:[(0,p.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3",children:[(0,p.jsxs)("h1",{className:"h2",children:["All scripts ",(0,p.jsxs)("span",{id:"headerInfo",children:["(",D.length,")"]})]}),(0,p.jsxs)("div",{className:"btn-toolbar mb-2 mb-md-0",children:[(0,p.jsxs)("button",{type:"button",className:"btn icon-button my-1 mx-2",children:[(0,p.jsx)(c.A,{icon:"AddBusiness",size:"20px"}),(0,p.jsx)("span",{children:"Home"})]}),(0,p.jsxs)("button",{onClick:()=>{F(!0)},className:"btn icon-button my-1 mx-2 position-relative",children:[(0,p.jsx)(c.A,{icon:"Filter",size:"20px"}),S&&(0,p.jsx)("span",{className:"filter-count-badge",children:"1"}),(0,p.jsx)("span",{children:"Filter"})]}),(0,p.jsxs)("button",{onClick:()=>_(!0),type:"button",className:"btn icon-button my-1 mx-2",children:[(0,p.jsx)(c.A,{icon:"Save",size:"20px"}),(0,p.jsx)("span",{children:"Save"})]}),(0,p.jsxs)("button",{type:"submit",form:"customReportForm",className:"btn icon-button my-1 mx-2 disabled",children:[(0,p.jsx)(c.A,{icon:"Download",size:"20px"}),(0,p.jsx)("span",{children:"Download"})]})]})]}),(0,p.jsx)("div",{children:N?(0,p.jsx)("span",{className:"text-large",children:(0,p.jsx)(h.A,{})}):(0,p.jsxs)("div",{style:{overflow:"auto"},id:"customReportForm",children:[(0,p.jsx)("div",{className:"py-2",children:(0,p.jsx)(u.Ay,{data:D,label:"Scripts",setCurrentPage:q,currentPage:I,perPage:B,setPerPage:H})}),(0,p.jsxs)("table",{className:"table",style:{minWidth:"1000px"},children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{className:"fw-bold mb-2 p-2",children:[(0,p.jsx)("th",{scope:"col",className:"col-1",children:(0,p.jsx)("input",{type:"checkbox",id:"selectAllCheckbox",checked:E,onChange:e=>{if(e.target.checked){const e=D.map((e=>e.id));f(e)}else f([])}})}),(0,p.jsx)("th",{scope:"col",className:"col-4",onClick:()=>Q("name"),children:(0,p.jsxs)("h6",{children:[(0,p.jsx)("span",{children:"Name"}),(0,p.jsx)(c.A,{size:"10px",className:R("name"),icon:"FilterList"})]})}),(0,p.jsx)("th",{scope:"col",className:"col-1 text-center mx-auto",onClick:()=>Q("category.name"),children:(0,p.jsxs)("h6",{children:[(0,p.jsx)("span",{children:"Category"}),(0,p.jsx)(c.A,{size:"10px",className:R("category.name"),icon:"FilterList"})]})}),(0,p.jsx)("th",{scope:"col",className:"col-2 text-center mx-auto",onClick:()=>Q("sub category 1 "),children:(0,p.jsxs)("h6",{children:[(0,p.jsx)("span",{children:"Sub Category 1 "}),(0,p.jsx)(c.A,{size:"10px",className:R("sub category 1 "),icon:"FilterList"})]})}),(0,p.jsx)("th",{scope:"col",className:"col-2 text-center mx-auto",onClick:()=>Q("sub category 1 "),children:(0,p.jsxs)("h6",{children:[(0,p.jsx)("span",{children:"Sub Category 2 "}),(0,p.jsx)(c.A,{size:"10px",className:R("sub category 1 "),icon:"FilterList"})]})}),(0,p.jsx)("th",{scope:"col",className:"col-2 text-center mx-auto",onClick:()=>Q("created"),children:(0,p.jsxs)("h6",{children:[(0,p.jsx)("span",{children:"Created"}),(0,p.jsx)(c.A,{size:"10px",className:R("created"),icon:"FilterList"})]})}),(0,p.jsx)("th",{scope:"col",className:"col-2 text-center mx-auto",onClick:()=>Q("last_updated"),children:(0,p.jsxs)("h6",{children:[(0,p.jsx)("span",{children:"Updated"}),(0,p.jsx)(c.A,{size:"10px",className:R("last_updated"),icon:"FilterList"})]})})]})}),(0,p.jsx)("tbody",{id:"scriptsCheckboxes",children:D.length>0?(0,u.li)(D,I,B).map(((e,s)=>{var t,l,c,n,a,i;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("tr",{className:"table-card rounded-3 bg-light-green mb-2 p-3",style:{borderRadius:"10px"},children:[(0,p.jsx)("td",{className:"col-1",children:(0,p.jsx)("input",{type:"checkbox",checked:y.includes(e.id),onChange:()=>{return s=e.id,void(y.includes(s)?f(y.filter((e=>e!==s))):f([...y,s]));var s}})}),(0,p.jsx)("td",{className:"col-4",children:(0,p.jsx)(o.N_,{to:`/account/ScriptDetails/${e.id}`,className:"text-decoration-none text-black",children:(0,p.jsx)("span",{className:"fw-bold",children:e.name})})}),(0,p.jsx)("td",{className:"col-1 text-center wrap-word mx-auto",children:null===(t=e.category)||void 0===t||null===(l=t.parent_category)||void 0===l||null===(c=l.parent_category)||void 0===c?void 0:c.name}),(0,p.jsx)("td",{className:"col-2 text-center wrap-word mx-auto",children:null===(n=e.category)||void 0===n||null===(a=n.parent_category)||void 0===a?void 0:a.name}),(0,p.jsx)("td",{className:"col-2 text-center wrap-word mx-auto",children:null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.name}),(0,p.jsx)("td",{className:"col-2 text-center mx-auto",children:(0,p.jsx)(x.A,{isoString:e.created})}),(0,p.jsx)("td",{className:"col-2 text-center mx-auto",children:(0,p.jsx)(x.A,{isoString:e.last_updated})})]},s),(0,p.jsx)("tr",{style:{height:"10px"}})]})})):(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:6,children:0===(null===g||void 0===g||null===(t=g.script)||void 0===t||null===(j=t.Scripts)||void 0===j?void 0:j.count)?(0,p.jsx)("p",{children:"No scripts found"}):(0,p.jsx)(h.A,{})})})})]})]})})]}),(0,p.jsx)(n.A,{show:w,handleClose:async()=>{F(!1)},filterQuery:S,setFilterQuery:k}),(0,p.jsx)(a.A,{show:L,handleClose:()=>P(!1)}),(0,p.jsx)(m.A,{show:z,handleClose:()=>_(!1),selectedScripts:y})]})}}}]);
//# sourceMappingURL=927.1d98794d.chunk.js.map