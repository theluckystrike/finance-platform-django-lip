"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[256],{3471:(e,s,l)=>{l.d(s,{A:()=>n});var t=l(3576),a=l(579);const n=e=>{let{show:s,handleClose:l}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(t.A,{size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:s,onHide:l,children:(0,a.jsxs)(t.A.Body,{className:"bg-light-green",style:{borderRadius:"25px",overflow:"hidden"},children:[(0,a.jsx)("h5",{children:"Create a new custom report"}),(0,a.jsx)("form",{method:"post",encType:"multipart/form-data",children:(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsxs)("div",{className:"row mx-0 px-3",children:[(0,a.jsxs)("div",{className:"col-12 m-0  ",children:[(0,a.jsx)("label",{htmlFor:"category",className:"form-label",children:"Name"}),(0,a.jsx)("input",{id:"category",name:"category",className:"form-control m-0",required:!0})]}),(0,a.jsxs)("div",{className:"col-12 row m-0  ",children:[(0,a.jsx)("label",{style:{height:"33px"},htmlFor:"category",className:"invisible",children:"Last Updated"}),(0,a.jsx)("button",{onClick:l,className:"btn btn-dark  px-3   fw-bold  ",type:"button",children:"Create"})]})]})})})]})})})}},9632:(e,s,l)=>{l.d(s,{A:()=>a});var t=l(5043);const a=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[l,a]=(0,t.useState)(s);return{items:(0,t.useMemo)((()=>{const s=[...e];return null!==l&&s.sort(((e,s)=>{const t=e[l.key],a=s[l.key];if(!isNaN(Date.parse(t))&&!isNaN(Date.parse(a))){const e=new Date(t),s=new Date(a);if(e<s)return"ascending"===l.direction?-1:1;if(e>s)return"ascending"===l.direction?1:-1}else{if(t<a)return"ascending"===l.direction?-1:1;if(t>a)return"ascending"===l.direction?1:-1}return 0})),s}),[e,l]),requestSort:e=>{let s="ascending";l&&l.key===e&&"ascending"===l.direction&&(s="descending"),a({key:e,direction:s})},getClassNamesFor:e=>l&&l.key===e?l.direction:"d-none",sortConfig:l}}},9033:(e,s,l)=>{l.d(s,{A:()=>a});l(5043);var t=l(579);const a=e=>{let{isoString:s}=e;const l=new Date(s).toLocaleString();return(0,t.jsx)(t.Fragment,{children:l})}},3256:(e,s,l)=>{l.r(s),l.d(s,{default:()=>y});var t=l(5043),a=(l(1511),l(5061)),n=l(3516),i=l(899),r=l(3576),c=l(8672),o=l(5893),d=l(3686),m=l(3003),h=l(579);const x=e=>{let{show:s,handleClose:l}=e;const a=(0,m.wA)(),[x,u]=(0,t.useState)(null);(0,t.useRef)(null);(0,t.useEffect)((()=>{const e=localStorage.getItem("login");e&&u(JSON.parse(e))}),[]);const{data:p,isError:j}=(0,o.HP)({token:null===x||void 0===x?void 0:x.access,page_no:1,page_size:1e3},{skip:!x}),b=(null===p||void 0===p?void 0:p.results)||[],v=i.Ik({parentName:i.Yj().required("Parent category is required"),category:i.Yj().required("Category is required")}),g=(0,n.Wx)({initialValues:{parentName:"",category:""},validationSchema:v,onSubmit:async e=>{await a((0,d.sS)({token:null===x||void 0===x?void 0:x.access,value:null===e||void 0===e?void 0:e.category})),l()}});return(0,h.jsx)(r.A,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:s,onHide:l,children:(0,h.jsxs)(r.A.Body,{className:"bg-light-green",style:{borderRadius:"25px",overflow:"hidden"},children:[(0,h.jsx)("div",{children:(0,h.jsx)("h5",{className:"m-3",children:" Filter by Category"})}),(0,h.jsx)("form",{onSubmit:g.handleSubmit,method:"post",encType:"multipart/form-data",children:(0,h.jsx)("div",{className:"mb-3",children:(0,h.jsxs)("div",{className:"row mx-0 px-5",children:[(0,h.jsxs)("div",{className:"col-12 m-0 p-0 pe-1",children:[(0,h.jsx)("label",{htmlFor:"category",className:"form-label",children:"Category"}),(0,h.jsxs)("div",{className:"dropdown",children:[(0,h.jsx)("div",{className:"arrow_down",children:(0,h.jsx)("img",{src:c,alt:"Arrow down"})}),(0,h.jsx)("input",{type:"text",placeholder:"All",value:g.values.parentName,readOnly:!0,className:"form-control "+(g.touched.parentName&&g.errors.parentName?"input-error":"")}),g.touched.parentName&&g.errors.parentName&&(0,h.jsx)("div",{className:"text-danger",children:g.errors.parentName}),(0,h.jsx)("div",{className:"dropdown-content",style:{height:"200px",overflow:"auto"},children:b.length>0&&b.map(((e,s)=>(0,h.jsx)("span",{className:"h6 hover-span",onClick:()=>{g.setFieldValue("parentName",e.name),g.setFieldValue("category",e.id)},children:e.name},e.id)))})]})]}),(0,h.jsxs)("div",{className:"col-6 m-0 p-0 my-2",children:[(0,h.jsx)("label",{htmlFor:"category",className:"form-label",children:"Add Script"}),(0,h.jsxs)("div",{className:"dropdown",children:[(0,h.jsx)("div",{className:"arrow_down",children:(0,h.jsx)("img",{src:c,alt:"Arrow down"})}),(0,h.jsx)("input",{type:"text",placeholder:"All",value:g.values.category,onChange:g.handleChange,readOnly:!0,className:"form-control "+(g.touched.category&&g.errors.category?"input-error":"")}),g.touched.category&&g.errors.category&&(0,h.jsx)("div",{className:"text-danger",children:g.errors.category}),(0,h.jsxs)("div",{className:"dropdown-content",children:[(0,h.jsx)("span",{children:"Returns"}),(0,h.jsx)("span",{children:"USD"}),(0,h.jsx)("span",{children:"Bonds"}),(0,h.jsx)("span",{children:"CAD"}),(0,h.jsx)("span",{children:"Breadth"})]})]})]}),(0,h.jsxs)("div",{className:"col-6 row m-0 p-0 my-2",children:[(0,h.jsx)("label",{htmlFor:"category",className:"form-label col-12 invisible",children:"Last Updated"}),(0,h.jsx)("button",{onClick:async()=>{await a((0,d.Y0)({token:null===x||void 0===x?void 0:x.access})),l()},style:{width:"45%"},className:"btn form-control btn-light  border-2px col-5 mx-auto fw-bold",type:"button",children:"Reset"}),(0,h.jsx)("button",{style:{width:"45%"},className:"btn form-control  btn-dark col-5 mx-auto fw-bold",type:"submit",children:"Apply"})]})]})})})]})})};var u=l(3471),p=l(5475),j=l(9632),b=l(9033),v=l(6792),g=l(7500);const N=e=>{var s,l;let{show:a,handleClose:c,selectedScripts:o}=e;const x=(0,m.wA)(),u=(0,m.d4)((e=>e)),p=(null===u||void 0===u||null===(s=u.script)||void 0===s||null===(l=s.Scripts)||void 0===l?void 0:l.results)||[],[j,b]=(0,t.useState)(null);console.log(o,"selectedScripts");const v=i.Ik({name:i.Yj().required("Name is required"),scripts:i.YO().of(i.Yj()).min(1,"At least one script must be selected")}),N=(0,n.Wx)({initialValues:{name:"",scripts:o},enableReinitialize:!0,validationSchema:v,onSubmit:e=>{console.log(e,"values")}});(0,t.useEffect)((()=>{const e=localStorage.getItem("login");e&&b(JSON.parse(e))}),[]),(0,t.useEffect)((()=>{if(j){(async()=>{try{await x((0,d.Y0)({token:null===j||void 0===j?void 0:j.access}))}catch(e){console.log(e)}})()}}),[j,x]);const y=p.map((e=>({value:e.id,label:e.name})));return(0,h.jsx)(r.A,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:a,onHide:c,children:(0,h.jsxs)(r.A.Body,{className:"bg-light-green",style:{borderRadius:"25px"},children:[(0,h.jsx)("h5",{children:"Create Reports"}),(0,h.jsx)("form",{onSubmit:N.handleSubmit,children:(0,h.jsx)("div",{className:"mb-3",children:(0,h.jsxs)("div",{className:"row mx-0 px-3",children:[(0,h.jsxs)("div",{className:"col-12 m-0",children:[(0,h.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),(0,h.jsx)("input",{id:"name",name:"name",className:"form-control m-0",value:N.values.name,onChange:N.handleChange,onBlur:N.handleBlur})]}),(0,h.jsxs)("div",{className:"col-12",children:[(0,h.jsx)("label",{htmlFor:"scripts",className:"form-label",children:"Scripts"}),(0,h.jsx)(g.Ay,{id:"scripts",name:"scripts",isMulti:!0,options:y,onChange:e=>{const s=e?e.map((e=>e.value)):[];N.setFieldValue("scripts",s)},value:y.filter((e=>N.values.scripts.includes(e.value))),placeholder:"Select Scripts"})]}),(0,h.jsxs)("div",{className:"col-12 row justify-content-evenly m-0",children:[(0,h.jsx)("button",{onClick:c,className:"btn btn-dark col-5 px-3 fw-bold",type:"button",children:"Close"}),(0,h.jsx)("button",{type:"submit",className:"btn btn-dark col-5 px-3 fw-bold",children:"Create"})]})]})})})]})})},y=()=>{var e,s,l,n;const i=(0,m.wA)(),r=(0,m.d4)((e=>e)),{loading:c}=null===r||void 0===r?void 0:r.script,o=null===r||void 0===r||null===(e=r.script)||void 0===e||null===(s=e.Scripts)||void 0===s?void 0:s.results,[g,y]=(0,t.useState)([]),[w,A]=(0,t.useState)(null);(0,t.useEffect)((()=>{const e=localStorage.getItem("login");e&&A(JSON.parse(e))}),[]),(0,t.useEffect)((()=>{if(null===!w){(async()=>{try{await i((0,d.Y0)({token:null===w||void 0===w?void 0:w.access}))}catch(e){console.log(e)}})()}}),[w]);const[f,I]=(0,t.useState)(!1),[k,C]=(0,t.useState)(!1),[S,F]=(0,t.useState)(!1),{items:D,requestSort:q,getClassNamesFor:E}=(0,j.A)(o||[]),Q=g.length===D.length;return console.log(Q,g,"aersgfstsrt"),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"mx-4",children:[(0,h.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3",children:[(0,h.jsxs)("h1",{className:"h2",children:["All scripts ",(0,h.jsxs)("span",{id:"headerInfo",children:["(",D.length,")"]})]}),(0,h.jsxs)("div",{className:"btn-toolbar mb-2 mb-md-0",children:[(0,h.jsxs)("button",{type:"button",className:"btn icon-button my-1 mx-2",children:[(0,h.jsx)(a.A,{icon:"AddBusiness",size:"20px"}),(0,h.jsx)("span",{children:"Home"})]}),(0,h.jsxs)("button",{onClick:()=>{I(!0)},className:"btn icon-button my-1 mx-2",children:[(0,h.jsx)(a.A,{icon:"Filter",size:"20px"}),(0,h.jsx)("span",{children:"Filter"})]}),(0,h.jsxs)("button",{onClick:()=>C(!0),type:"button",className:"btn icon-button my-1 mx-2",children:[(0,h.jsx)(a.A,{icon:"Save",size:"20px"}),(0,h.jsx)("span",{children:"Save"})]}),(0,h.jsxs)("button",{type:"submit",form:"customReportForm",className:"btn icon-button my-1 mx-2 disabled",children:[(0,h.jsx)(a.A,{icon:"Download",size:"20px"}),(0,h.jsx)("span",{children:"Download"})]})]})]}),(0,h.jsx)("div",{children:c?(0,h.jsx)("span",{className:"text-large",children:(0,h.jsx)(v.A,{})}):(0,h.jsx)("div",{style:{overflow:"auto"},id:"customReportForm",children:(0,h.jsxs)("table",{className:"table",style:{minWidth:"1000px"},children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{className:"fw-bold mb-2 p-2",children:[(0,h.jsx)("th",{scope:"col",className:"col-1",children:(0,h.jsx)("input",{type:"checkbox",id:"selectAllCheckbox",checked:Q,onChange:e=>{if(e.target.checked){const e=D.map((e=>e.id));y(e)}else y([])}})}),(0,h.jsx)("th",{scope:"col",className:"col-4",onClick:()=>q("name"),children:(0,h.jsxs)("h6",{children:[(0,h.jsx)("span",{children:"Name"}),(0,h.jsx)(a.A,{size:"10px",className:E("name"),icon:"FilterList"})]})}),(0,h.jsx)("th",{scope:"col",className:"col-2 text-center mx-auto",onClick:()=>q("description"),children:(0,h.jsxs)("h6",{children:[(0,h.jsx)("span",{children:"Description"}),(0,h.jsx)(a.A,{size:"10px",className:E("description"),icon:"FilterList"})]})}),(0,h.jsx)("th",{scope:"col",className:"col-1 text-center mx-auto",onClick:()=>q("category.name"),children:(0,h.jsxs)("h6",{children:[(0,h.jsx)("span",{children:"Category"}),(0,h.jsx)(a.A,{size:"10px",className:E("category.name"),icon:"FilterList"})]})}),(0,h.jsx)("th",{scope:"col",className:"col-2 text-center mx-auto",onClick:()=>q("created"),children:(0,h.jsxs)("h6",{children:[(0,h.jsx)("span",{children:"Created"}),(0,h.jsx)(a.A,{size:"10px",className:E("created"),icon:"FilterList"})]})}),(0,h.jsx)("th",{scope:"col",className:"col-2 text-center mx-auto",onClick:()=>q("last_updated"),children:(0,h.jsxs)("h6",{children:[(0,h.jsx)("span",{children:"Last Updated"}),(0,h.jsx)(a.A,{size:"10px",className:E("last_updated"),icon:"FilterList"})]})})]})}),(0,h.jsx)("tbody",{id:"scriptsCheckboxes",children:D.length>0?D.map(((e,s)=>{var l;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("tr",{className:"table-card rounded-3 bg-light-green mb-2 p-3",style:{borderRadius:"10px"},children:[(0,h.jsx)("td",{className:"col-1",children:(0,h.jsx)("input",{type:"checkbox",checked:g.includes(e.id),onChange:()=>{return s=e.id,void(g.includes(s)?y(g.filter((e=>e!==s))):y([...g,s]));var s}})}),(0,h.jsx)("td",{className:"col-4",children:(0,h.jsx)(p.N_,{to:`/account/ScriptDetails/${e.id}`,className:"text-decoration-none text-black",children:(0,h.jsx)("span",{className:"fw-bold",children:e.name})})}),(0,h.jsx)("td",{className:"col-2 text-center wrap-word mx-auto",children:e.description}),(0,h.jsx)("td",{className:"col-1 text-center wrap-word mx-auto",children:null===e||void 0===e||null===(l=e.category)||void 0===l?void 0:l.name}),(0,h.jsx)("td",{className:"col-2 text-center mx-auto",children:(0,h.jsx)(b.A,{isoString:e.created})}),(0,h.jsx)("td",{className:"col-2 text-center mx-auto",children:(0,h.jsx)(b.A,{isoString:e.last_updated})})]},s),(0,h.jsx)("tr",{style:{height:"10px"}})]})})):(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:6,children:0===(null===r||void 0===r||null===(l=r.script)||void 0===l||null===(n=l.Scripts)||void 0===n?void 0:n.count)?(0,h.jsx)("p",{children:"No scripts found"}):(0,h.jsx)(v.A,{})})})})]})})})]}),(0,h.jsx)(x,{show:f,handleClose:async()=>{I(!1),await i((0,d.Y0)({token:null===w||void 0===w?void 0:w.access}))}}),(0,h.jsx)(u.A,{show:S,handleClose:()=>F(!1)}),(0,h.jsx)(N,{show:k,handleClose:()=>C(!1),selectedScripts:g})]})}},1511:()=>{},8672:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAaVBMVEX///8AAADm5ubz8/MkJCQwMDD19fXw8PBXV1dQUFBZWVlTU1MuLi4pKSlYWFgmJiZeXl5mZmbExMRLS0vd3d2Dg4MfHx+tra2YmJjQ0NDh4eEODg6MjIxvb2/r6+toaGgYGBhDQ0M6OjoUjT9JAAAEKUlEQVR4nO3c6VbqMBQFYApaJgcUUVQcru//kBdvjCXNTihthhPu/n63y5yVM6QFHI2IiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIqHj3m9l6tX3IvYwTPWxX69nmvsOVL6vqn9ddHX1VAe1e1bJXR3fm4brSbiYplhbG2++qX5/9V74/Vo35NM3yBqs/Dlb9+O69dlMdmheSqHfGqje+S6efxrXVrIhE/TAX/elLvfuqZSk/UeuP9qJ9DfWpfbH8EOs7a81PnsvtCKul8ES1A/RG+GxfXs1EtxsrRfd886K+BTcIHhogRavqwrslW3CH3ESFAVZb/z1/0D1ChwYOcH2kqsbX6C6RIeIAr/xHmr3xJUxUebWIA7wcH79zjLpNtZTWUesVWuZthwD3IV6gexeyQsQ7eNEpQFeiiqpFvINdUlQRH+LQAF2JKuZ0gwPsmqIKbjdCahHXYLcm0xCcqMNTVHGM/vy7iAO8PjlAsYk6ZA62ja9giHkTFQd41StAkbUYqgY1cUOjXqAFnTYmTDjEVa4QQ8zBNlGJOoE72D9FFdxubnLsIk7Rvk2mIWZohBwTJjz6k9diuEFvw7WYeC5OZmgRQ2tQw7uYtBZrGGCYHfyGazFhouImE6IGNccBLlWIkxv054d30UOOWkwTYtwa1DK+nsI1OOwkg2Q7wIU/i7rgRI3+dYbpMkWKKlnazQQGGLbJNDIMDdxkQo4JU/IDHA4w3KC3JT7ApaxBDSdqpKf+yTxtiioJhwZO0RhjwpQsUadwB+OmqJJoLuYLMNEBDs/B+CmqJJiLqedgW/Q3cDlTVIn8sQ0eEzEHvS3qG7jcKapE/NgGn2RiHbbdotVi/hrUIn1sg2sw1ZgwRZmLuY5qWIRElZOiCm43A0LEAaZvMo3AiZr3qIbh0d8zRBxg2kFvC1iL0mpQw7vY48uaEo5qWKADnIyjGhako0o5qmEBalFqDWqDD3CSjmrYwLko66iGDfqGv/QUVXC76fRrG3lHNaz323B8kpExJkw9f22Dx4SEQW/rVYtl1KDW49c2eT586Q8PDc9Xi0oYEyZHR3Ulaild9NBJtVhWDWo4UWEtSnyi78IxF+2hIflxyQ8nqvVz6TJTVMHtZm7uIh4TsptMo0OilnNUw44+9ct+ou/iyNAouQY1nKg/tVjaUQ1zvNj4DrG8oxrmHBrnkKKK44z6UnyTaeBEhQVaXooquN2gqAsN0FWLlhJrUMPvblpkvpPpqkOilpuiCu6oB8rsooeO1GLJNajhofGj1DFh8oR4HgF6EvUcUlRxtJvym0wDDo3Sx4QJjP6yB73NqsXzqUGttYvntoPfjKFxLmPCNP76DfDrLAMcjab6f1K/yfsfhaE87xbrxe7If9wmIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiov/cX08aJw5PInkjAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=256.53779217.chunk.js.map