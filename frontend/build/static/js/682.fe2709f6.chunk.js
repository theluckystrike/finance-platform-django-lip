"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[682],{5206:(e,s,l)=>{l.d(s,{CQ:()=>f,li:()=>g,Ay:()=>k});var i=l(5043),a=l(1579),t=l(8139),n=l.n(t),d=l(5061),r=l(579);const o=(0,i.forwardRef)(((e,s)=>{let{className:l,isDisabled:i,isActive:a,isPrev:t,isFirst:o,isNext:c,isLast:u,children:m,onClick:v,...h}=e;return(0,r.jsx)("li",{ref:s,className:n()("page-item",{disabled:i,active:a},l),...h,children:(0,r.jsxs)("span",{role:"button",onClick:v,onKeyDown:v,className:"page-link",tabIndex:i?-1:void 0,"aria-disabled":i?"true":void 0,"aria-label":(t?"First Page":c&&"Last Page")||`${m} page`,children:[t&&(0,r.jsx)(d.A,{icon:"ChevronLeft",size:"20px"}),o&&(0,r.jsx)(d.A,{icon:"FirstPage",size:"20px"}),c&&(0,r.jsx)(d.A,{icon:"ChevronRight",size:"20px"}),u&&(0,r.jsx)(d.A,{icon:"LastPage",size:"20px"}),m]})})}));o.displayName="PaginationItem",o.defaultProps={className:void 0,isDisabled:!1,isActive:!1,isPrev:!1,isFirst:!1,isNext:!1,isLast:!1,children:null,onClick:void 0};const c=(0,i.forwardRef)(((e,s)=>{let{ariaLabel:l,className:i,children:a,size:t,...d}=e;return(0,r.jsx)("nav",{ref:s,"aria-label":l,className:i,...d,children:(0,r.jsx)("ul",{className:n()("pagination",{[`pagination-${t}`]:t},"m-0"),children:a})})}));c.displayName="Pagination",c.defaultProps={className:void 0,size:null};const u=c,m=e=>{let{children:s,value:l,disabled:i,ariaLabelledby:a,...t}=e;return(0,r.jsx)("option",{value:l,disabled:i,"aria-labelledby":a||s,...t,children:s})};m.defaultProps={disabled:!1,ariaLabelledby:null,value:void 0};const v=e=>{let{list:s}=e;return null===s||void 0===s?void 0:s.map((e=>(0,r.jsx)(m,{value:e.value,...e,children:e.text||e.label},e.value)))},h=m,x=e=>{let{isTouched:s,invalidFeedback:l,validFeedback:a,isTooltip:t}=e;const d=(0,i.useRef)(null);return(0,i.useEffect)((()=>{if(t)for(let a=0;a<(null===d||void 0===d||null===(e=d.current)||void 0===e?void 0:e.parentNode.classList.length);a+=1){var e,s,l,i;if(["input-group"].includes(null===d||void 0===d||null===(s=d.current)||void 0===s?void 0:s.parentNode.classList[a]))null===d||void 0===d||null===(l=d.current)||void 0===l||l.parentNode.parentNode.classList.add("position-relative");else null===d||void 0===d||null===(i=d.current)||void 0===i||i.parentNode.classList.add("position-relative")}})),s&&l?(0,r.jsx)("div",{ref:d,className:n()({"invalid-feedback":!t,"invalid-tooltip":t}),children:l}):!l&&a&&(0,r.jsx)("div",{ref:d,className:n()({"valid-feedback":!t,"valid-tooltip":t}),children:a})};x.defaultProps={isTouched:!1,invalidFeedback:void 0,validFeedback:void 0,isTooltip:!1};const p=x,b=(0,i.forwardRef)(((e,s)=>{let{id:l,name:i,className:a,children:t,required:d,placeholder:o,ariaDescribedby:c,ariaLabelledby:u,ariaLabel:m,list:x,multiple:b,title:j,size:f,disabled:g,value:N,defaultValue:k,isValid:y,isTouched:C,invalidFeedback:w,validFeedback:F,isValidMessage:S,isTooltipFeedback:P,onBlur:A,onChange:L,onFocus:D,onInput:R,onInvalid:I,onSelect:T,...z}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("select",{ref:s,id:l,className:n()("form-select",{[`form-select-${f}`]:f,"text-muted":""===N&&o,"is-invalid":!y&&C&&w,"is-valid":!y&&C&&!w},a),name:i,"aria-label":m,"aria-describedby":c,"aria-labelledby":u,multiple:b,disabled:g,title:j,value:N,defaultValue:k,required:d,onBlur:A,onChange:L,onFocus:D,onInput:R,onInvalid:I,onSelect:T,...z,children:[o&&(0,r.jsx)(h,{value:"",hidden:!0,children:o}),t||x&&(0,r.jsx)(v,{list:x})]}),S&&(0,r.jsx)(p,{isTouched:C,invalidFeedback:w,validFeedback:F,isTooltip:P})]})}));b.displayName="Select",b.defaultProps={id:void 0,className:void 0,name:void 0,children:null,placeholder:void 0,multiple:!1,size:void 0,disabled:!1,required:!1,ariaDescribedby:void 0,ariaLabelledby:void 0,title:void 0,value:void 0,defaultValue:void 0,list:void 0,isTouched:!1,isValid:!1,invalidFeedback:void 0,validFeedback:void 0,isValidMessage:!0,isTooltipFeedback:!1,onBlur:void 0,onChange:void 0,onFocus:void 0,onInput:void 0,onInvalid:void 0,onSelect:void 0};const j=b,f={3:3,5:5,10:10,25:25,50:50},g=(e,s,l)=>e.filter(((e,i)=>i+1>(s-1)*l&&i+1<=s*l)),N=e=>{let{setCurrentPage:s,currentPage:l,perPage:i,setPerPage:t,data:n,label:d}=e;const c=n.length,m=Math.ceil(c/i);return(0,r.jsxs)(a.A,{className:"row w-100",children:[(0,r.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-7",children:(0,r.jsx)("span",{className:"text-muted",children:(()=>{const e=i*(l-1)+1,s=i*l;return(0,r.jsxs)("span",{className:"pagination__desc",children:["Showing ",e," to ",s>c?c:s," of ",c," ",d]})})()})}),(0,r.jsxs)("div",{className:"d-flex justify-content-end col-sm-12 col-md-6 col-lg-5",children:[m>1&&(0,r.jsxs)(u,{ariaLabel:d,children:[(0,r.jsx)(o,{isFirst:!0,isDisabled:!(l-1>0),onClick:()=>s(1)}),(0,r.jsx)(o,{isPrev:!0,isDisabled:!(l-1>0),onClick:()=>s(l-1)}),l-1>1&&(0,r.jsx)(o,{onClick:()=>s(l-2),children:"..."}),(()=>{let e=[],i=l-1;for(;i>=l-1&&i>0;)e.push((0,r.jsx)(o,{onClick:()=>s(l-1),children:i},i)),i-=1;for(e=e.reverse(),e.push((0,r.jsx)(o,{isActive:!0,onClick:()=>s(l),children:l},l)),i=l+1;i<=l+1&&i<=m;)e.push((0,r.jsx)(o,{onClick:()=>s(l+1),children:i},i)),i+=1;return e})(),l+1<m&&(0,r.jsx)(o,{onClick:()=>s(l+2),children:"..."}),(0,r.jsx)(o,{isNext:!0,isDisabled:!(l+1<=m),onClick:()=>s(l+1)}),(0,r.jsx)(o,{isLast:!0,isDisabled:!(l+1<=m),onClick:()=>s(m)})]}),(0,r.jsx)(j,{style:{width:"67px",padding:" 0px 0px 0px 12px"},ariaLabel:"Per",onChange:e=>{t(parseInt(e.target.value,10)),s(1)},value:i.toString(),children:Object.keys(f).map((e=>(0,r.jsx)(h,{value:e,children:e},e)))})]})]})};N.defaultProps={label:"items"};const k=N},9632:(e,s,l)=>{l.d(s,{A:()=>a});var i=l(5043);const a=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[l,a]=(0,i.useState)(s);return{items:(0,i.useMemo)((()=>{const s=[...e];return null!==l&&s.sort(((e,s)=>{const i=e[l.key],a=s[l.key];if(!isNaN(Date.parse(i))&&!isNaN(Date.parse(a))){const e=new Date(i),s=new Date(a);if(e<s)return"ascending"===l.direction?-1:1;if(e>s)return"ascending"===l.direction?1:-1}else{if(i<a)return"ascending"===l.direction?-1:1;if(i>a)return"ascending"===l.direction?1:-1}return 0})),s}),[e,l]),requestSort:e=>{let s="ascending";l&&l.key===e&&"ascending"===l.direction&&(s="descending"),a({key:e,direction:s})},getClassNamesFor:e=>l&&l.key===e?l.direction:"d-none",sortConfig:l}}},9033:(e,s,l)=>{l.d(s,{A:()=>a});l(5043);var i=l(579);const a=e=>{let{isoString:s}=e;const l=new Date(s).toLocaleString();return(0,i.jsx)(i.Fragment,{children:l})}},5682:(e,s,l)=>{l.r(s),l.d(s,{default:()=>f});var i=l(5043),a=(l(1511),l(5061)),t=l(5475),n=l(1468),d=l(3003),r=l(3686),o=l(3516),c=l(899),u=l(7500),m=l(3708),v=l(579);const h=e=>{var s,l;let{show:a,handleClose:t,allreport:h}=e;const x=(0,d.wA)(),p=(0,d.d4)((e=>e)),[b,j]=(null===p||void 0===p||null===(s=p.script)||void 0===s||null===(l=s.Scripts)||void 0===l||l.results,(0,i.useState)(null));(0,i.useEffect)((()=>{const e=localStorage.getItem("login");e&&j(JSON.parse(e))}),[]),(0,i.useEffect)((()=>{if(b){(async()=>{try{await x((0,r.Y0)({token:null===b||void 0===b?void 0:b.access}))}catch(e){console.log(e)}})()}}),[b,x]);const f=h&&h.map((e=>({value:e.id,label:e.name}))),g=c.Ik({name:c.Yj().required("Name is required"),scripts:c.YO().of(c.Yj()).min(1,"At least one script must be selected")});return(0,v.jsx)(n.A,{size:"lg",fullscreen:"md-down","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:a,onHide:t,children:(0,v.jsxs)(n.A.Body,{className:"bg-light-green",style:{borderRadius:"25px",overflow:"hidden"},children:[(0,v.jsx)("h5",{children:"Merge Reports"}),(0,v.jsx)(o.l1,{initialValues:{name:"",reports:[]},validationSchema:g,onSubmit:e=>{x((0,m.Mg)({values:e,token:b.access})),t()},children:e=>{let{setFieldValue:s,values:l}=e;return(0,v.jsx)(o.lV,{children:(0,v.jsx)("div",{className:"mb-3",children:(0,v.jsxs)("div",{className:"row mx-0 px-3",children:[(0,v.jsxs)("div",{className:"col-12 m-0",children:[(0,v.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),(0,v.jsx)(o.D0,{id:"name",name:"name",className:"form-control m-0",required:!0}),(0,v.jsx)(o.Kw,{name:"name",component:"div",className:"text-danger"})]}),(0,v.jsxs)("div",{className:"col-12",children:[(0,v.jsx)("label",{htmlFor:"scripts",className:"form-label",children:"Reports"}),(0,v.jsx)(u.Ay,{id:"reports",name:"reports",isMulti:!0,options:f,onChange:e=>{const l=e?e.map((e=>e.value)):[];s("reports",l)},placeholder:"Select Scripts"}),(0,v.jsx)(o.Kw,{name:"scripts",component:"div",className:"text-danger"})]}),(0,v.jsxs)("div",{className:"col-12 row justify-content-evenly m-0",children:[(0,v.jsx)("button",{onClick:t,className:"btn btn-dark col-5 px-3 fw-bold",type:"button",children:"Close"}),(0,v.jsx)("button",{type:"submit",className:"btn btn-dark col-5 px-3 fw-bold",children:"Create"})]})]})})})}})]})})};var x=l(9632),p=l(6792),b=l(9033),j=l(5206);const f=()=>{var e,s;const l=(0,d.wA)(),[n,r]=(0,i.useState)(null),o=(0,d.d4)((e=>e)),{loading:c}=null===o||void 0===o?void 0:o.report,u=null===o||void 0===o||null===(e=o.report)||void 0===e||null===(s=e.reports)||void 0===s?void 0:s.results,{items:f,requestSort:g,getClassNamesFor:N}=(0,x.A)(u||[]);(0,i.useEffect)((()=>{const e=localStorage.getItem("login");e&&r(JSON.parse(e))}),[]),(0,i.useEffect)((()=>{if(n){(async()=>{try{await l((0,m.LT)({token:null===n||void 0===n?void 0:n.access}))}catch(e){console.log(e)}})()}}),[n]);const[k,y]=(0,i.useState)(1),[C,w]=(0,i.useState)(j.CQ[10]),[F,S]=(0,i.useState)(!1),[P,A]=(0,i.useState)(!1);return(0,v.jsxs)("div",{className:"mx-4",children:[(0,v.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3",children:[(0,v.jsx)("h1",{className:"h1 fw-bold",children:"Reports "}),(0,v.jsx)("div",{className:"btn-toolbar mb-2 mb-md-0",children:(0,v.jsxs)("button",{onClick:()=>A(!0),type:"button",className:"btn icon-button my-1 mx-2",children:[(0,v.jsx)(a.A,{icon:"AddChart",size:"20px"}),(0,v.jsx)("span",{children:"Merge"})]})})]}),(0,v.jsx)("div",{children:f.length>0?(0,v.jsxs)("div",{style:{overflow:"auto"},id:"customReportForm",children:[(0,v.jsx)("div",{className:"py-2",children:(0,v.jsx)(j.Ay,{data:f,label:"Reports",setCurrentPage:y,currentPage:k,perPage:C,setPerPage:w})}),(0,v.jsxs)("table",{className:"table",style:{minWidth:"1000px"},children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{className:"fw-bold mb-2 p-2",children:[(0,v.jsx)("th",{scope:"col",className:"col-1",children:(0,v.jsx)("h5",{children:"Sr no."})}),(0,v.jsx)("th",{scope:"col",className:"col-7",children:(0,v.jsx)("h5",{children:"Report Name"})}),(0,v.jsx)("th",{scope:"col",className:"col-2 text-center mx-auto",children:"Created"}),(0,v.jsx)("th",{scope:"col",className:"col-2 text-center mx-auto",children:"Last Updated"})]})}),(0,v.jsx)("tbody",{id:"scriptsCheckboxes",children:f&&(0,j.li)(f,k,C).map(((e,s)=>(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("tr",{className:"table-card rounded-3 bg-light-green mb-2 p-3",children:[(0,v.jsx)("td",{className:"col-1 fw-bold fs-6",children:s+1}),(0,v.jsx)("td",{className:"col-7 fw-bold fs-6",children:(0,v.jsx)(t.N_,{to:`/account/ReportDetails/${e.id}`,className:"text-decoration-none text-black",children:e.name})}),(0,v.jsx)("td",{className:"col-2 text-center mx-auto",children:(0,v.jsx)(b.A,{isoString:e.created})}),(0,v.jsx)("td",{className:"col-2 text-center mx-auto",children:(0,v.jsx)(b.A,{isoString:e.last_updated})})]},e.id),(0,v.jsx)("tr",{style:{height:"10px"}})]})))})]})]}):(0,v.jsx)(p.A,{})}),(0,v.jsx)(h,{show:P,handleClose:()=>A(!1),allreport:u})]})}},1511:()=>{}}]);
//# sourceMappingURL=682.fe2709f6.chunk.js.map