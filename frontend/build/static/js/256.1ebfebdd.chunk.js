"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[256],{3471:(e,s,l)=>{l.d(s,{A:()=>n});var a=l(3576),t=l(579);const n=e=>{let{show:s,handleClose:l}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(a.A,{size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:s,onHide:l,children:(0,t.jsxs)(a.A.Body,{className:"bg-light-green",style:{borderRadius:"25px",overflow:"hidden"},children:[(0,t.jsx)("h5",{children:"Create a new custom report"}),(0,t.jsx)("form",{method:"post",encType:"multipart/form-data",children:(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsxs)("div",{className:"row mx-0 px-3",children:[(0,t.jsxs)("div",{className:"col-12 m-0  ",children:[(0,t.jsx)("label",{htmlFor:"category",className:"form-label",children:"Name"}),(0,t.jsx)("input",{id:"category",name:"category",className:"form-control m-0",required:!0})]}),(0,t.jsxs)("div",{className:"col-12 row m-0  ",children:[(0,t.jsx)("label",{style:{height:"33px"},htmlFor:"category",className:"invisible",children:"Last Updated"}),(0,t.jsx)("button",{onClick:l,className:"btn btn-dark  px-3   fw-bold  ",type:"button",children:"Create"})]})]})})})]})})})}},9632:(e,s,l)=>{l.d(s,{A:()=>t});var a=l(5043);const t=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[l,t]=(0,a.useState)(s);return{items:(0,a.useMemo)((()=>{const s=[...e];return null!==l&&s.sort(((e,s)=>{const a=e[l.key],t=s[l.key];if(!isNaN(Date.parse(a))&&!isNaN(Date.parse(t))){const e=new Date(a),s=new Date(t);if(e<s)return"ascending"===l.direction?-1:1;if(e>s)return"ascending"===l.direction?1:-1}else{if(a<t)return"ascending"===l.direction?-1:1;if(a>t)return"ascending"===l.direction?1:-1}return 0})),s}),[e,l]),requestSort:e=>{let s="ascending";l&&l.key===e&&"ascending"===l.direction&&(s="descending"),t({key:e,direction:s})},getClassNamesFor:e=>l&&l.key===e?l.direction:"d-none",sortConfig:l}}},9033:(e,s,l)=>{l.d(s,{A:()=>t});l(5043);var a=l(579);const t=e=>{let{isoString:s}=e;const l=new Date(s).toLocaleString();return(0,a.jsx)(a.Fragment,{children:l})}},3256:(e,s,l)=>{l.r(s),l.d(s,{default:()=>y});var a=l(5043),t=(l(1511),l(5061)),n=l(3516),i=l(899),r=l(3576),o=l(8672),c=l(5893),d=l(3686),m=l(3003),x=l(579);const h=e=>{let{show:s,handleClose:l}=e;const t=(0,m.wA)(),[h,u]=(0,a.useState)(null);(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=localStorage.getItem("login");e&&u(JSON.parse(e))}),[]);const{data:p,isError:j}=(0,c.HP)({token:null===h||void 0===h?void 0:h.access,page_no:1,page_size:1e3},{skip:!h}),v=(null===p||void 0===p?void 0:p.results)||[],b=i.Ik({parentName:i.Yj().required("Parent category is required"),category:i.Yj().required("Category is required")}),N=(0,n.Wx)({initialValues:{parentName:"",category:""},validationSchema:b,onSubmit:async e=>{await t((0,d.sS)({token:null===h||void 0===h?void 0:h.access,value:null===e||void 0===e?void 0:e.category})),l()}});return(0,x.jsx)(r.A,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:s,onHide:l,children:(0,x.jsxs)(r.A.Body,{className:"bg-light-green",style:{borderRadius:"25px",overflow:"hidden"},children:[(0,x.jsx)("div",{children:(0,x.jsx)("h5",{className:"m-3",children:" Filter by Category"})}),(0,x.jsx)("form",{onSubmit:N.handleSubmit,method:"post",encType:"multipart/form-data",children:(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsxs)("div",{className:"row mx-0 px-5",children:[(0,x.jsxs)("div",{className:"col-12 m-0 p-0 pe-1",children:[(0,x.jsx)("label",{htmlFor:"category",className:"form-label",children:"Category"}),(0,x.jsxs)("div",{className:"dropdown",children:[(0,x.jsx)("div",{className:"arrow_down",children:(0,x.jsx)("img",{src:o,alt:"Arrow down"})}),(0,x.jsx)("input",{type:"text",placeholder:"All",value:N.values.parentName,readOnly:!0,className:"form-control "+(N.touched.parentName&&N.errors.parentName?"input-error":"")}),N.touched.parentName&&N.errors.parentName&&(0,x.jsx)("div",{className:"text-danger",children:N.errors.parentName}),(0,x.jsx)("div",{className:"dropdown-content",style:{height:"200px",overflow:"auto"},children:v.length>0&&v.map(((e,s)=>(0,x.jsx)("span",{className:"h6 hover-span",onClick:()=>{N.setFieldValue("parentName",e.name),N.setFieldValue("category",e.id)},children:e.name},e.id)))})]})]}),(0,x.jsxs)("div",{className:"col-6 m-0 p-0 my-2",children:[(0,x.jsx)("label",{htmlFor:"category",className:"form-label",children:"Add Script"}),(0,x.jsxs)("div",{className:"dropdown",children:[(0,x.jsx)("div",{className:"arrow_down",children:(0,x.jsx)("img",{src:o,alt:"Arrow down"})}),(0,x.jsx)("input",{type:"text",placeholder:"All",value:N.values.category,onChange:N.handleChange,readOnly:!0,className:"form-control "+(N.touched.category&&N.errors.category?"input-error":"")}),N.touched.category&&N.errors.category&&(0,x.jsx)("div",{className:"text-danger",children:N.errors.category}),(0,x.jsxs)("div",{className:"dropdown-content",children:[(0,x.jsx)("span",{children:"Returns"}),(0,x.jsx)("span",{children:"USD"}),(0,x.jsx)("span",{children:"Bonds"}),(0,x.jsx)("span",{children:"CAD"}),(0,x.jsx)("span",{children:"Breadth"})]})]})]}),(0,x.jsxs)("div",{className:"col-6 row m-0 p-0 my-2",children:[(0,x.jsx)("label",{htmlFor:"category",className:"form-label col-12 invisible",children:"Last Updated"}),(0,x.jsx)("button",{onClick:l,style:{width:"45%"},className:"btn form-control btn-light  border-2px col-5 mx-auto fw-bold",type:"button",children:"Reset"}),(0,x.jsx)("button",{style:{width:"45%"},className:"btn form-control  btn-dark col-5 mx-auto fw-bold",type:"submit",children:"Apply"})]})]})})})]})})};var u=l(3471),p=l(5475),j=l(9632),v=l(9033),b=l(6792),N=l(7500),g=l(3708);const w=e=>{var s,l;let{show:t,handleClose:o}=e;const c=(0,m.wA)(),h=(0,m.d4)((e=>e)),u=(null===h||void 0===h||null===(s=h.script)||void 0===s||null===(l=s.Scripts)||void 0===l?void 0:l.results)||[],[p,j]=(0,a.useState)(null);(0,a.useEffect)((()=>{const e=localStorage.getItem("login");e&&j(JSON.parse(e))}),[]),(0,a.useEffect)((()=>{if(p){(async()=>{try{await c((0,d.Y0)({token:null===p||void 0===p?void 0:p.access}))}catch(e){console.log(e)}})()}}),[p,c]);const v=u.map((e=>({value:e.id,label:e.name}))),b=i.Ik({name:i.Yj().required("Name is required"),scripts:i.YO().of(i.Yj()).min(1,"At least one script must be selected")});return(0,x.jsx)(r.A,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:t,onHide:o,children:(0,x.jsxs)(r.A.Body,{className:"bg-light-green",style:{borderRadius:"25px",overflow:"hidden"},children:[(0,x.jsx)("h5",{children:"Create Reports"}),(0,x.jsx)(n.l1,{initialValues:{name:"",scripts:[]},validationSchema:b,onSubmit:e=>{c((0,g.Yn)({values:e,token:p.access})),o()},children:e=>{let{setFieldValue:s,values:l}=e;return(0,x.jsx)(n.lV,{children:(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsxs)("div",{className:"row mx-0 px-3",children:[(0,x.jsxs)("div",{className:"col-12 m-0",children:[(0,x.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),(0,x.jsx)(n.D0,{id:"name",name:"name",className:"form-control m-0",required:!0}),(0,x.jsx)(n.Kw,{name:"name",component:"div",className:"text-danger"})]}),(0,x.jsxs)("div",{className:"col-12",children:[(0,x.jsx)("label",{htmlFor:"scripts",className:"form-label",children:"Scripts"}),(0,x.jsx)(N.Ay,{id:"scripts",name:"scripts",isMulti:!0,options:v,onChange:e=>{const l=e?e.map((e=>e.value)):[];s("scripts",l)},placeholder:"Select Scripts"}),(0,x.jsx)(n.Kw,{name:"scripts",component:"div",className:"text-danger"})]}),(0,x.jsxs)("div",{className:"col-12 row justify-content-evenly m-0",children:[(0,x.jsx)("button",{onClick:o,className:"btn btn-dark col-5 px-3 fw-bold",type:"button",children:"Close"}),(0,x.jsx)("button",{type:"submit",className:"btn btn-dark col-5 px-3 fw-bold",children:"Create"})]})]})})})}})]})})},y=()=>{var e,s,l,n;const i=(0,m.wA)(),r=(0,m.d4)((e=>e)),{loading:o}=null===r||void 0===r?void 0:r.script,c=null===r||void 0===r||null===(e=r.script)||void 0===e||null===(s=e.Scripts)||void 0===s?void 0:s.results,[N,g]=(0,a.useState)([]),[y,A]=(0,a.useState)(null);(0,a.useEffect)((()=>{const e=localStorage.getItem("login");e&&A(JSON.parse(e))}),[]),(0,a.useEffect)((()=>{if(null===!y){(async()=>{try{await i((0,d.Y0)({token:null===y||void 0===y?void 0:y.access}))}catch(e){console.log(e)}})()}}),[y]);const[f,I]=(0,a.useState)(!1),[k,C]=(0,a.useState)(!1),[S,D]=(0,a.useState)(!1),{items:F,requestSort:q,getClassNamesFor:E}=(0,j.A)(c||[]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"mx-4",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3",children:[(0,x.jsxs)("h1",{className:"h2",children:["All scripts ",(0,x.jsxs)("span",{id:"headerInfo",children:["(",F.length,")"]})]}),(0,x.jsxs)("div",{className:"btn-toolbar mb-2 mb-md-0",children:[(0,x.jsxs)("button",{type:"button",className:"btn icon-button my-1 mx-2",children:[(0,x.jsx)(t.A,{icon:"AddBusiness",size:"20px"}),(0,x.jsx)("span",{children:"Home"})]}),(0,x.jsxs)("button",{onClick:()=>{I(!0)},className:"btn icon-button my-1 mx-2",children:[(0,x.jsx)(t.A,{icon:"Filter",size:"20px"}),(0,x.jsx)("span",{children:"Filter"})]}),(0,x.jsxs)("button",{onClick:()=>C(!0),type:"button",className:"btn icon-button my-1 mx-2",children:[(0,x.jsx)(t.A,{icon:"Save",size:"20px"}),(0,x.jsx)("span",{children:"Save"})]}),(0,x.jsxs)("button",{type:"submit",form:"customReportForm",className:"btn icon-button my-1 mx-2 disabled",children:[(0,x.jsx)(t.A,{icon:"Download",size:"20px"}),(0,x.jsx)("span",{children:"Download"})]})]})]}),(0,x.jsx)("div",{children:o?(0,x.jsx)("span",{className:"text-large",children:(0,x.jsx)(b.A,{})}):(0,x.jsxs)("form",{method:"post",id:"customReportForm",children:[(0,x.jsxs)("div",{className:"row mb-2 p-2 fw-bold w-100",children:[(0,x.jsx)("div",{className:"col-1",children:(0,x.jsx)("h6",{children:(0,x.jsx)("span",{children:"Sr no."})})}),(0,x.jsx)("div",{className:"col-4",children:(0,x.jsx)("h6",{children:(0,x.jsxs)("span",{onClick:()=>q("name"),children:["Name",(0,x.jsx)(t.A,{size:"10px",className:E("name"),icon:"FilterList"})]})})}),(0,x.jsxs)("div",{className:"col-2 mx-auto text-center",onClick:()=>q("description"),children:["Description",(0,x.jsx)(t.A,{size:"10px",className:E("description"),icon:"FilterList"})]}),(0,x.jsxs)("div",{className:"col-1 mx-auto text-center",onClick:()=>q("category.name"),children:["Category",(0,x.jsx)(t.A,{size:"10px",className:E("category.name"),icon:"FilterList"})]}),(0,x.jsxs)("div",{className:"col-2 mx-auto text-center",onClick:()=>q("created"),children:["Created",(0,x.jsx)(t.A,{size:"10px",className:E("created"),icon:"FilterList"})]}),(0,x.jsxs)("div",{className:"col-2 mx-auto text-center",onClick:()=>q("last_updated"),children:["LastUpdated",(0,x.jsx)(t.A,{size:"10px",className:E("last_updated"),icon:"FilterList"})]})]}),(0,x.jsx)("div",{id:"scriptsCheckboxes",children:F.length>0?null===F||void 0===F?void 0:F.map(((e,s)=>{var l;return(0,x.jsx)(p.N_,{to:`/account/ScriptDetails/${e.id}`,className:"text-decoration-none text-black",children:(0,x.jsxs)("div",{className:"row mb-2 p-3 table-card rounded-3 w-100 bg-light-green",children:[(0,x.jsx)("div",{className:"col-1",children:(0,x.jsx)("span",{className:"fw-bold  ",children:s+1})}),(0,x.jsx)("div",{className:"col-4",children:(0,x.jsx)("span",{className:"fw-bold  ",children:e.name})}),(0,x.jsx)("div",{className:"col-2 mx-auto text-center wrap-word",children:e.description}),(0,x.jsx)("div",{className:"col-1 mx-auto text-center wrap-word",children:null===e||void 0===e||null===(l=e.category)||void 0===l?void 0:l.name}),(0,x.jsx)("div",{className:"col-2 mx-auto text-center",children:(0,x.jsx)(v.A,{isoString:e.created})}),(0,x.jsx)("div",{className:"col-2 mx-auto text-center",children:(0,x.jsx)(v.A,{isoString:e.last_updated})})]})},s)})):(0,x.jsx)("div",{children:0===(null===r||void 0===r||null===(l=r.script)||void 0===l||null===(n=l.Scripts)||void 0===n?void 0:n.count)?(0,x.jsx)("p",{children:"no scripts found"}):(0,x.jsx)(b.A,{})})})]})})]}),(0,x.jsx)(h,{show:f,handleClose:()=>I(!1)}),(0,x.jsx)(u.A,{show:S,handleClose:()=>D(!1)}),(0,x.jsx)(w,{show:k,handleClose:()=>C(!1)})]})}},1511:()=>{},8672:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAaVBMVEX///8AAADm5ubz8/MkJCQwMDD19fXw8PBXV1dQUFBZWVlTU1MuLi4pKSlYWFgmJiZeXl5mZmbExMRLS0vd3d2Dg4MfHx+tra2YmJjQ0NDh4eEODg6MjIxvb2/r6+toaGgYGBhDQ0M6OjoUjT9JAAAEKUlEQVR4nO3c6VbqMBQFYApaJgcUUVQcru//kBdvjCXNTihthhPu/n63y5yVM6QFHI2IiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIqHj3m9l6tX3IvYwTPWxX69nmvsOVL6vqn9ddHX1VAe1e1bJXR3fm4brSbiYplhbG2++qX5/9V74/Vo35NM3yBqs/Dlb9+O69dlMdmheSqHfGqje+S6efxrXVrIhE/TAX/elLvfuqZSk/UeuP9qJ9DfWpfbH8EOs7a81PnsvtCKul8ES1A/RG+GxfXs1EtxsrRfd886K+BTcIHhogRavqwrslW3CH3ESFAVZb/z1/0D1ChwYOcH2kqsbX6C6RIeIAr/xHmr3xJUxUebWIA7wcH79zjLpNtZTWUesVWuZthwD3IV6gexeyQsQ7eNEpQFeiiqpFvINdUlQRH+LQAF2JKuZ0gwPsmqIKbjdCahHXYLcm0xCcqMNTVHGM/vy7iAO8PjlAsYk6ZA62ja9giHkTFQd41StAkbUYqgY1cUOjXqAFnTYmTDjEVa4QQ8zBNlGJOoE72D9FFdxubnLsIk7Rvk2mIWZohBwTJjz6k9diuEFvw7WYeC5OZmgRQ2tQw7uYtBZrGGCYHfyGazFhouImE6IGNccBLlWIkxv054d30UOOWkwTYtwa1DK+nsI1OOwkg2Q7wIU/i7rgRI3+dYbpMkWKKlnazQQGGLbJNDIMDdxkQo4JU/IDHA4w3KC3JT7ApaxBDSdqpKf+yTxtiioJhwZO0RhjwpQsUadwB+OmqJJoLuYLMNEBDs/B+CmqJJiLqedgW/Q3cDlTVIn8sQ0eEzEHvS3qG7jcKapE/NgGn2RiHbbdotVi/hrUIn1sg2sw1ZgwRZmLuY5qWIRElZOiCm43A0LEAaZvMo3AiZr3qIbh0d8zRBxg2kFvC1iL0mpQw7vY48uaEo5qWKADnIyjGhako0o5qmEBalFqDWqDD3CSjmrYwLko66iGDfqGv/QUVXC76fRrG3lHNaz323B8kpExJkw9f22Dx4SEQW/rVYtl1KDW49c2eT586Q8PDc9Xi0oYEyZHR3Ulaild9NBJtVhWDWo4UWEtSnyi78IxF+2hIflxyQ8nqvVz6TJTVMHtZm7uIh4TsptMo0OilnNUw44+9ct+ou/iyNAouQY1nKg/tVjaUQ1zvNj4DrG8oxrmHBrnkKKK44z6UnyTaeBEhQVaXooquN2gqAsN0FWLlhJrUMPvblpkvpPpqkOilpuiCu6oB8rsooeO1GLJNajhofGj1DFh8oR4HgF6EvUcUlRxtJvym0wDDo3Sx4QJjP6yB73NqsXzqUGttYvntoPfjKFxLmPCNP76DfDrLAMcjab6f1K/yfsfhaE87xbrxe7If9wmIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiov/cX08aJw5PInkjAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=256.1ebfebdd.chunk.js.map