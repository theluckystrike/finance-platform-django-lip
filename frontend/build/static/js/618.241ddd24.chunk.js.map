{"version":3,"file":"static/js/618.241ddd24.chunk.js","mappings":"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","sources":["Comopnent/ui/Modals/CategoryModal/CategoryModal.tsx","pages/UploadScript/UploadScript.tsx"],"sourcesContent":["import { FC, useEffect, useState } from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ActiveRoute } from \"../../../../Menu\";\r\nimport { Categoryarray } from \"../../../../DummyData/TableData\";\r\nimport { useCreateMutation } from \"../../../../Redux/CategoryQuery\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { loginUSer } from \"../../../../customHook/getrole\";\r\nimport ArrowDown from \"../../../../assest/image/arrow-down.png\";\r\n\r\nimport { useRefreshTokenMutation } from \"../../../../Redux/AuthSlice\";\r\nimport useToast from \"../../../../customHook/toast\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\ninterface CategoryModalProps {\r\n  show: boolean;\r\n  handleClose: () => void;\r\n  categoryFilter: any;\r\n}\r\n\r\nconst CategoryModal: FC<CategoryModalProps> = ({\r\n  show,\r\n  handleClose,\r\n  categoryFilter,\r\n}) => {\r\n  const [create, { isLoading, isSuccess, isError, error, data }] =\r\n    useCreateMutation();\r\n  const [refreshtoken, Res] = useRefreshTokenMutation();\r\n\r\n  \r\n\r\n  const navigate = useNavigate();\r\n  const [selectValue, setSelectValue] = useState(\"\");\r\n  const handleToast = useToast();\r\n\r\n  // Formik setup\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      name: \"\",\r\n      category: \"\",\r\n      parentName:\"\"\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required(\"Category name is required\"),\r\n    }),\r\n    onSubmit: (values) => {\r\n  \r\n      \r\n      create({ token: loginUSer.access, data: {...values,parent_category:values.category} }); // Call mutation with form values\r\n      handleClose();\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      handleToast.SuccessToast(`New Category added successfully`);\r\n    }\r\n\r\n    if (isError) {\r\n      if ((error as any)?.data) {\r\n     \r\n        handleToast.ErrorToast(\r\n          \"Please login again.\"\r\n        );\r\n  \r\n      \r\n      } else {\r\n        console.log(\"An unknown error occurred.\");\r\n      }\r\n    }\r\n  }, [isSuccess, isError, error, data]);\r\n\r\n  const [FilterCategory,setFilterCategory]=useState([])\r\nconst [dataTypeOption ,setDataTypeOption]=useState(false)\r\nconst FilterData = (value: any) => {\r\n  const trimmedValue = value.trim(); // Trim the input value\r\n  if (trimmedValue !== '') {\r\n    const res = categoryFilter.filter((i: any) =>\r\n      i.name.toLowerCase().includes(trimmedValue.toLowerCase())\r\n    );\r\n    setFilterCategory(res);\r\n  } else {\r\n    setFilterCategory([]);\r\n  }\r\n}\r\n\r\n\r\nuseEffect(()=>{\r\n  FilterData(formik.values.parentName)\r\n},[formik.values.parentName])\r\n  return (\r\n    <>\r\n      <Modal\r\n        size=\"lg\"\r\n        fullscreen=\"md-down\" \r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        show={show}\r\n        onHide={handleClose}\r\n      >\r\n        <Modal.Body\r\n          className=\"bg-light-green\"\r\n          style={{\r\n            borderRadius: \"25px\",\r\n            overflow: \"hidden\",\r\n          }}\r\n        >\r\n          <form onSubmit={formik.handleSubmit} encType=\"multipart/form-data\">\r\n            <div className=\"mb-3\">\r\n              <div className=\"row mx-0 px-3\">\r\n                <div className=\"col-12 m-0\">\r\n                  <label htmlFor=\"category\" className=\"form-label\">\r\n                    Category Name\r\n                  </label>\r\n                  <input\r\n                    id=\"name\"\r\n                    name=\"name\"\r\n                    className=\"form-control m-0\"\r\n                    required\r\n                    value={formik.values.name}\r\n                    onChange={formik.handleChange}\r\n                    onBlur={formik.handleBlur}\r\n                  />\r\n                  {formik.touched.name && formik.errors.name ? (\r\n                    <div className=\"text-danger\">{formik.errors.name}</div>\r\n                  ) : null}\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <label htmlFor=\"category\" className=\"form-label\">\r\n                    Parent Category\r\n                  </label>\r\n\r\n                  <div className=\"dropdown\">\r\n                    <div className=\"arrow_down\">\r\n                      <img src={ArrowDown} alt=\"\" />\r\n                    </div>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Select a category\"\r\n                      value={formik.values.parentName}\r\n                   onChange={(e) => {\r\n                    formik.setFieldValue(\"parentName\", e.target.value)\r\n                  \r\n                    FilterData( e.target.value)\r\n                  \r\n                  }}\r\n                      className={`form-control ${\r\n                        formik.touched.category && formik.errors.category\r\n                          ? \"input-error\"\r\n                          : \"\"\r\n                      }`}\r\n                    />\r\n                  <div\r\n  className=\"dropdown-content\"\r\n  style={{ maxHeight: \"200px\", overflow: \"auto\", display: FilterCategory.length > 0  ? 'block' : 'none' }}\r\n>\r\n\r\n                      {FilterCategory.length > 0  &&\r\n                        FilterCategory.map((item: any, index: any) => (\r\n                          <span\r\n                            className=\"h6 hover-span\"\r\n                            key={item.name}\r\n                            onClick={async () => {\r\n                             await formik.setFieldValue(\"parentName\", item.name);\r\n                            await  formik.setFieldValue(\"category\", item.id);\r\n    setFilterCategory([])\r\n\r\n                            }}\r\n                          >\r\n                            {item.name}\r\n                          </span>\r\n                        ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-12 row justify-content-evenly m-0\">\r\n                  <label\r\n                    style={{ height: \"33px\" }}\r\n                    htmlFor=\"category\"\r\n                    className=\"invisible\"\r\n                  >\r\n                    Last Updated\r\n                  </label>\r\n\r\n                  <button\r\n                    onClick={() =>\r\n                      navigate(`/account/${ActiveRoute.CategoryManager.path}`)\r\n                    }\r\n                    className=\"btn border border-dark col-5 px-3 fw-bold\"\r\n                    type=\"button\"\r\n                  >\r\n                    Edit All Category\r\n                  </button>\r\n                  <button\r\n                    className=\"btn btn-dark col-5 px-3 fw-bold\"\r\n                    type=\"submit\"\r\n                  >\r\n                    Create\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </Modal.Body>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CategoryModal;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport Icon from \"../../Comopnent/ui/icon/Icon\";\r\nimport CategoryModal from \"../../Comopnent/ui/Modals/CategoryModal/CategoryModal\";\r\nimport ArrowDown from \"../../assest/image/arrow-down.png\";\r\nimport { useGetUserByTokenQuery } from \"../../Redux/AuthSlice\";\r\nimport { useGetAllCategoryQuery } from \"../../Redux/CategoryQuery\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { CreateScripts } from \"../../Redux/Script/ScriptSlice\";\r\nimport useToast from \"../../customHook/toast\";\r\n\r\n// Define validation schema using Yup\r\nconst validationSchema = Yup.object({\r\n  category: Yup.string().required(\"Category is required\"),\r\n  output_type: Yup.string().required(\"Output type is required\"),\r\n  name: Yup.string().required(\"Script name is required\"),\r\n  file: Yup.mixed().required(\"File is required\"),\r\n});\r\n\r\nconst UploadScriptForm = () => {\r\n  const dispatch = useDispatch();\r\n  const [loginUser, setLoginUser] = useState<any>(null);\r\n  const fileRef: any = useRef(null);\r\n  // Effect to retrieve loginUser from localStorage on component mount\r\n  useEffect(() => {\r\n    localStorage.removeItem('filterquery')\r\n\r\n    const storedLoginUser = localStorage.getItem(\"login\");\r\n    if (storedLoginUser) {\r\n      setLoginUser(JSON.parse(storedLoginUser));\r\n    }\r\n  }, []);\r\n\r\n  const { data: AllCategory, isError } = useGetAllCategoryQuery(\r\n    { token: loginUser?.access, page_no: 1, page_size: 1000 },\r\n    {\r\n      skip: !loginUser, // Skip query execution if loginUser is null\r\n    }\r\n  );\r\n\r\n  const categoryData = AllCategory?.results || [];\r\n\r\n  const handleToast = useToast();\r\n\r\n  const [categoryFilter, setCategoryFilter] = useState<any>([]);\r\n\r\n  const { data, error, isLoading } = useGetUserByTokenQuery(\r\n    { token: loginUser?.access, page_no: 1, page_size: 1000 },\r\n    {\r\n      skip: !loginUser, // Skip query execution if loginUser is null\r\n    }\r\n  );\r\n  const [show, setShow] = useState(false);\r\n  const [selectValue, setSelectValue] = useState(\"\");\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      category: \"\",\r\n      output_type: \"\",\r\n      name: \"\",\r\n      file: null,\r\n      description: \"\",\r\n      parentName: \"\",\r\n    },\r\n    validationSchema,\r\n    onSubmit: async (values: any, { resetForm }) => {\r\n      // Create FormData object\r\n      const formData = new FormData();\r\n      formData.append(\"category\", values.category);\r\n      formData.append(\"output_type\", \"plt\");\r\n      formData.append(\"name\", values.name);\r\n      formData.append(\"file\", values.file);\r\n      formData.append(\"description\", values.description);\r\n      // Dispatch the action with FormData\r\n      await dispatch(\r\n        CreateScripts({ formData, token: loginUser?.access }) as any\r\n      );\r\n      resetForm();\r\n      fileRef.current.value = \"\";\r\n      handleToast.SuccessToast(`New Script added successfully`);\r\n    },\r\n  });\r\nconst [FilterCategory,setFilterCategory]=useState([])\r\nconst [dataTypeOption ,setDataTypeOption]=useState(false)\r\nconst FilterData = (value: any) => {\r\n  const trimmedValue = value.trim(); // Trim the input value\r\n  if (trimmedValue !== '') {\r\n    const res = categoryData.filter((i: any) =>\r\n      i.name.toLowerCase().includes(trimmedValue.toLowerCase())\r\n    );\r\n    setFilterCategory(res);\r\n  } else {\r\n    setFilterCategory([]);\r\n  }\r\n}\r\n\r\n\r\nuseEffect(()=>{\r\n  localStorage.removeItem('filterquery')\r\n\r\n  FilterData(formik.values.parentName)\r\n},[formik.values.parentName])\r\n  return (\r\n    <>\r\n      <div className=\"UploadScript_main_wrap mt-3\">\r\n        <h1 className=\"h1 fw-bold\">Upload a Script</h1>\r\n        <div className=\"d-flex justify-content-center\">\r\n          <form\r\n            className=\"w-75\"\r\n            style={{ maxWidth: \"600px\" }}\r\n            onSubmit={formik.handleSubmit}\r\n            encType=\"multipart/form-data\"\r\n          >\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"category\" className=\"form-label\">\r\n                Category\r\n              </label>\r\n              <div className=\"row mx-0 p-0\">\r\n                <div className=\"col-10 col-sm-10 col-md-11 m-0 p-0 pe-1\">\r\n                  <div className=\"dropdown\">\r\n                    <div className=\"arrow_down\">\r\n                      <img src={ArrowDown} alt=\"\" />\r\n                    </div>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Select a category\"\r\n                      value={formik.values.parentName}\r\n                      onChange={(e) => {\r\n                      formik.setFieldValue(\"parentName\", e.target.value)\r\n                      FilterData( e.target.value)\r\n                      }}\r\n                      className={`form-control ${\r\n                        formik.touched.category && formik.errors.category\r\n                          ? \"input-error\"\r\n                          : \"\"\r\n                      }`}\r\n                    />\r\n                  <div className=\"dropdown-content\"\r\n                   style={{ maxHeight: \"200px\", overflow: \"auto\", display: FilterCategory.length > 0  ? 'block' : 'none' }}>\r\n                      {FilterCategory.length > 0  &&\r\n                        FilterCategory.map((item: any, index: any) => (\r\n                          <span\r\n                            className=\"h6 hover-span\"\r\n                            key={item.name}\r\n                            onClick={async () => {\r\n                             await formik.setFieldValue(\"parentName\", item.name);\r\n                             await  formik.setFieldValue(\"category\", item.id);\r\n                             setFilterCategory([])\r\n                            }} >\r\n                            {item.name}\r\n                          </span>\r\n                        ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  className=\"btn btn-dark col-2 col-sm-2 col-md-1 p-0 justify-content-center\"\r\n                  type=\"button\"\r\n                  onClick={handleShow}\r\n                >\r\n                  <Icon icon=\"Add\" size=\"30px\" />\r\n                </button>\r\n                {formik.touched.category && formik.errors.category ? (\r\n                  <div className=\"error-message\">\r\n                    {formik.errors.category as any}\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"output_type\" className=\"form-label\">\r\n                How would you like to view data?\r\n              </label>\r\n              <div className=\"dropdown\">\r\n                <div className=\"arrow_down\">\r\n                  <img src={ArrowDown} alt=\"\" />\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"output_type\"\r\n                  placeholder=\"Select a view data type\"\r\n                  value={formik.values.output_type}\r\n               readOnly\r\n                     onFocus={()=>setDataTypeOption(true)}\r\n                    //  onBlur={()=>setDataTypeOption(false)}\r\n                  className={`form-control ${\r\n                    formik.touched.output_type && formik.errors.output_type\r\n                      ? \"input-error\"\r\n                      : \"\"\r\n                  }`}\r\n                />\r\n                <div className=\"dropdown-content\" style={{ maxHeight: \"200px\", overflow: \"auto\", display: dataTypeOption ? 'block' : 'none' }}>\r\n                  <span\r\n                    className=\"hover-span\"\r\n                    onClick={async() => { await formik.setFieldValue(\"output_type\", \"pd\")\r\n                      setDataTypeOption(false)\r\n                    }}\r\n                  >\r\n                    Chart\r\n                  </span>\r\n                  <span\r\n                    className=\"hover-span\"\r\n                    onClick={async() => {await formik.setFieldValue(\"output_type\", \"plt\")\r\n                      setDataTypeOption(false)\r\n                    }}\r\n                  >\r\n                    Table\r\n                  </span>\r\n                  <span\r\n                    className=\"hover-span\"\r\n                    onClick={ async() =>\r\n                    { await formik.setFieldValue(\"output_type\", \"pd plt\")\r\n                      setDataTypeOption(false)\r\n                    }\r\n                    }\r\n                  >\r\n                    Chart and Table\r\n                  </span>\r\n                </div>\r\n                {formik.touched.output_type && formik.errors.output_type ? (\r\n                  <div className=\"error-message\">\r\n                    {formik.errors.output_type as any}\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"name\" className=\"form-label\">\r\n                Script name\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"name\"\r\n                placeholder=\"Enter script name\"\r\n                className={`form-control ${\r\n                  formik.touched.name && formik.errors.name ? \"input-error\" : \"\"\r\n                }`}\r\n                {...formik.getFieldProps(\"name\")}\r\n              />\r\n              {formik.touched.name && formik.errors.name ? (\r\n                <div className=\"error-message\">{formik.errors.name as any}</div>\r\n              ) : null}\r\n            </div>\r\n\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"file\" className=\"form-label\" title=\"Select only .py files\">\r\n                Select a file <Icon icon=\"InfoOutline\" size=\"18px\" />\r\n              </label>\r\n              <input\r\n  type=\"file\"\r\n  id=\"file\"\r\n  name=\"file\"\r\n  ref={fileRef}\r\n  accept=\".py\" // Restrict to only .py files\r\n  className={`form-control ${\r\n    formik.touched.file && formik.errors.file ? \"input-error\" : \"\"\r\n  }`}\r\n  onChange={(event: any) =>\r\n    formik.setFieldValue(\"file\", event.target.files[0])\r\n  }\r\n/>\r\n              {formik.touched.file && formik.errors.file ? (\r\n                <div className=\"error-message\">{formik.errors.file as any}</div>\r\n              ) : null}\r\n            </div>\r\n\r\n            <div className=\"mx-auto text-center d-flex justify-content-between row \">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-dark my-1 first-line:col-12 col-sm-12 col-md-5\"\r\n              >\r\n                Upload\r\n              </button>\r\n              <button\r\n                type=\"reset\"\r\n                className=\"btn btn-light bordered-button my-1  col-12 col-sm-12 col-md-5\"\r\n                onClick={() => formik.resetForm()}\r\n              >\r\n                Reset\r\n              </button>\r\n            </div>\r\n          </form>\r\n\r\n          <CategoryModal\r\n            show={show}\r\n            handleClose={handleClose}\r\n            categoryFilter={categoryData}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UploadScriptForm;\r\n"],"names":["_ref","show","handleClose","categoryFilter","create","isLoading","isSuccess","isError","error","data","useCreateMutation","refreshtoken","Res","useRefreshTokenMutation","navigate","useNavigate","selectValue","setSelectValue","useState","handleToast","useToast","formik","useFormik","initialValues","name","category","parentName","validationSchema","Yup","required","onSubmit","values","token","loginUSer","access","parent_category","useEffect","SuccessToast","ErrorToast","console","log","FilterCategory","setFilterCategory","dataTypeOption","setDataTypeOption","FilterData","value","trimmedValue","trim","res","filter","i","toLowerCase","includes","_jsx","_Fragment","children","Modal","size","fullscreen","centered","onHide","Body","className","style","borderRadius","overflow","handleSubmit","encType","_jsxs","htmlFor","id","onChange","handleChange","onBlur","handleBlur","touched","errors","src","ArrowDown","alt","type","placeholder","e","setFieldValue","target","maxHeight","display","length","map","item","index","onClick","async","height","ActiveRoute","CategoryManager","path","output_type","file","UploadScriptForm","dispatch","useDispatch","loginUser","setLoginUser","fileRef","useRef","localStorage","removeItem","storedLoginUser","getItem","JSON","parse","AllCategory","useGetAllCategoryQuery","page_no","page_size","skip","categoryData","results","setCategoryFilter","useGetUserByTokenQuery","setShow","description","resetForm","formData","FormData","append","CreateScripts","current","maxWidth","handleShow","Icon","icon","readOnly","onFocus","getFieldProps","title","ref","accept","event","files","CategoryModal"],"sourceRoot":""}