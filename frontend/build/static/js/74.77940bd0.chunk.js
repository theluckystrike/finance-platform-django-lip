"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[74],{6792:(e,s,t)=>{t.d(s,{A:()=>l});t(5043);var n=t(579);const l=()=>(0,n.jsxs)("div",{className:"loader-center",children:[" ",(0,n.jsx)("div",{className:"  spinner-border text-dark",role:"status"})]})},9632:(e,s,t)=>{t.d(s,{A:()=>l});var n=t(5043);const l=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[t,l]=(0,n.useState)(s);return{items:(0,n.useMemo)((()=>{const s=[...e];return null!==t&&s.sort(((e,s)=>{const n=e[t.key],l=s[t.key];if(!isNaN(Date.parse(n))&&!isNaN(Date.parse(l))){const e=new Date(n),s=new Date(l);if(e<s)return"ascending"===t.direction?-1:1;if(e>s)return"ascending"===t.direction?1:-1}else{if(n<l)return"ascending"===t.direction?-1:1;if(n>l)return"ascending"===t.direction?1:-1}return 0})),s}),[e,t]),requestSort:e=>{let s="ascending";t&&t.key===e&&"ascending"===t.direction&&(s="descending"),l({key:e,direction:s})},getClassNamesFor:e=>t&&t.key===e?t.direction:"d-none",sortConfig:t}}},2074:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var n=t(5043),l=(t(1511),t(5061)),a=t(5475),c=t(3708),i=t(3003),r=t(9632),d=t(6792),o=t(3576),m=t(3686),u=t(3892),x=t(899),h=t(4757),p=t(579);const j=e=>{var s,t;let{show:l,handleClose:a}=e;const r=(0,i.wA)(),d=(0,i.d4)((e=>e)),j=(null===d||void 0===d||null===(s=d.script)||void 0===s||null===(t=s.Scripts)||void 0===t?void 0:t.results)||[],[v,b]=(0,n.useState)(null);(0,n.useEffect)((()=>{const e=localStorage.getItem("login");e&&b(JSON.parse(e))}),[]),(0,n.useEffect)((()=>{(async()=>{try{await r((0,m.Y0)({token:null===v||void 0===v?void 0:v.access}))}catch(e){}})()}),[v,r]);const N=j.map((e=>({value:e.id,label:e.name}))),f=x.Ik({name:x.Yj().required("Name is required"),scripts:x.YO().of(x.Yj()).min(1,"At least one script must be selected")});return(0,p.jsx)(o.A,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:l,onHide:a,children:(0,p.jsxs)(o.A.Body,{className:"bg-light-green",style:{borderRadius:"25px",overflow:"hidden"},children:[(0,p.jsx)("h5",{children:"Create Reports"}),(0,p.jsx)(u.l1,{initialValues:{name:"",scripts:[]},validationSchema:f,onSubmit:e=>{r((0,c.Yn)({values:e,token:v.access})),a()},children:e=>{let{setFieldValue:s,values:t}=e;return(0,p.jsx)(u.lV,{children:(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsxs)("div",{className:"row mx-0 px-3",children:[(0,p.jsxs)("div",{className:"col-12 m-0",children:[(0,p.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),(0,p.jsx)(u.D0,{id:"name",name:"name",className:"form-control m-0",required:!0}),(0,p.jsx)(u.Kw,{name:"name",component:"div",className:"text-danger"})]}),(0,p.jsxs)("div",{className:"col-12",children:[(0,p.jsx)("label",{htmlFor:"scripts",className:"form-label",children:"Scripts"}),(0,p.jsx)(h.Ay,{id:"scripts",name:"scripts",isMulti:!0,options:N,onChange:e=>{const t=e?e.map((e=>e.value)):[];s("scripts",t)},placeholder:"Select Scripts"}),(0,p.jsx)(u.Kw,{name:"scripts",component:"div",className:"text-danger"})]}),(0,p.jsxs)("div",{className:"col-12 row justify-content-evenly m-0",children:[(0,p.jsx)("button",{onClick:a,className:"btn btn-dark col-5 px-3 fw-bold",type:"button",children:"Close"}),(0,p.jsx)("button",{type:"submit",className:"btn btn-dark col-5 px-3 fw-bold",children:"Create"})]})]})})})}})]})})},v=()=>{var e,s;const[t,o]=(0,n.useState)("-1"),[m,u]=(0,n.useState)("-1"),[x,h]=(0,n.useState)("-1"),v=(0,i.wA)(),[b,N]=(0,n.useState)(null),f=(0,i.d4)((e=>e)),{loading:g}=null===f||void 0===f?void 0:f.report,w=null===f||void 0===f||null===(e=f.report)||void 0===e||null===(s=e.reports)||void 0===s?void 0:s.results,[y,k]=(0,n.useState)([]),{items:S,requestSort:C,getClassNamesFor:A}=(0,r.A)(w||[]);(0,n.useEffect)((()=>{const e=localStorage.getItem("login");e&&N(JSON.parse(e))}),[]),(0,n.useEffect)((()=>{(async()=>{try{await v((0,c.LT)({token:null===b||void 0===b?void 0:b.access}))}catch(e){}})()}),[b]);const[D,F]=(0,n.useState)(!1),R=()=>{F(!0)};return(0,p.jsxs)("div",{className:"mx-4",children:[(0,p.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3",children:[(0,p.jsx)("h1",{className:"h1 fw-bold",children:"Reports "}),(0,p.jsxs)("div",{className:"btn-toolbar mb-2 mb-md-0",children:[(0,p.jsxs)("button",{onClick:R,type:"button",className:"btn icon-button my-1 mx-2",children:[(0,p.jsx)(l.A,{icon:"Add",size:"20px"}),(0,p.jsx)("span",{children:"Create"})]}),(0,p.jsxs)("button",{onClick:R,type:"button",className:"btn icon-button my-1 mx-2",children:[(0,p.jsx)(l.A,{icon:"AddChart",size:"20px"}),(0,p.jsx)("span",{children:"Merge"})]})]})]}),(0,p.jsx)("div",{children:S.length>0?(0,p.jsxs)("form",{method:"post",id:"customReportForm",children:[(0,p.jsxs)("div",{className:"row mb-2 p-2 fw-bold w-100",children:[(0,p.jsx)("div",{className:"col-1",children:(0,p.jsx)("h5",{children:"Sr no."})}),(0,p.jsx)("div",{className:"col-7",children:(0,p.jsx)("h5",{children:"Report Name"})}),(0,p.jsx)("div",{className:"col-2 mx-auto text-center",children:"Created"}),(0,p.jsx)("div",{className:"col-2 mx-auto text-center",children:"Last updated"})]}),(0,p.jsx)("div",{id:"scriptsCheckboxes",children:S.map(((e,s)=>(0,p.jsx)(a.N_,{to:`/account/ReportDetails/${e.id}`,className:"text-decoration-none text-black",children:(0,p.jsxs)("div",{className:"row mb-2 p-3 table-card rounded-3 w-100 bg-light-green",children:[(0,p.jsx)("div",{className:"col-1",children:(0,p.jsx)("span",{className:"fw-bold fs-6",children:s+1})}),(0,p.jsx)("div",{className:"col-7",children:(0,p.jsx)("span",{className:"fw-bold fs-6",children:e.name})}),(0,p.jsx)("div",{className:"col-2 mx-auto text-center",children:e.created}),(0,p.jsx)("div",{className:"col-2 mx-auto text-center",children:e.last_updated})]})},e.id)))})]}):(0,p.jsx)(d.A,{})}),(0,p.jsx)(j,{show:D,handleClose:()=>F(!1)})]})}},1511:()=>{}}]);
//# sourceMappingURL=74.77940bd0.chunk.js.map