"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[310],{3471:(e,s,l)=>{l.d(s,{A:()=>t});var a=l(3576),i=l(579);const t=e=>{let{show:s,handleClose:l}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.A,{size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:s,onHide:l,children:(0,i.jsxs)(a.A.Body,{className:"bg-light-green",style:{borderRadius:"25px",overflow:"hidden"},children:[(0,i.jsx)("h5",{children:"Create a new custom report"}),(0,i.jsx)("form",{method:"post",encType:"multipart/form-data",children:(0,i.jsx)("div",{className:"mb-3",children:(0,i.jsxs)("div",{className:"row mx-0 px-3",children:[(0,i.jsxs)("div",{className:"col-12 m-0  ",children:[(0,i.jsx)("label",{htmlFor:"category",className:"form-label",children:"Name"}),(0,i.jsx)("input",{id:"category",name:"category",className:"form-control m-0",required:!0})]}),(0,i.jsxs)("div",{className:"col-12 row m-0  ",children:[(0,i.jsx)("label",{style:{height:"33px"},htmlFor:"category",className:"invisible",children:"Last Updated"}),(0,i.jsx)("button",{onClick:l,className:"btn btn-dark  px-3   fw-bold  ",type:"button",children:"Create"})]})]})})})]})})})}},5206:(e,s,l)=>{l.d(s,{CQ:()=>g,li:()=>N,Ay:()=>y});var a=l(5043),i=l(1579),t=l(8139),n=l.n(t),c=l(5061),r=l(579);const d=(0,a.forwardRef)(((e,s)=>{let{className:l,isDisabled:a,isActive:i,isPrev:t,isFirst:d,isNext:o,isLast:u,children:x,onClick:h,...m}=e;return(0,r.jsx)("li",{ref:s,className:n()("page-item",{disabled:a,active:i},l),...m,children:(0,r.jsxs)("span",{role:"button",onClick:h,onKeyDown:h,className:"page-link",tabIndex:a?-1:void 0,"aria-disabled":a?"true":void 0,"aria-label":(t?"First Page":o&&"Last Page")||`${x} page`,children:[t&&(0,r.jsx)(c.A,{icon:"ChevronLeft",size:"20px"}),d&&(0,r.jsx)(c.A,{icon:"FirstPage",size:"20px"}),o&&(0,r.jsx)(c.A,{icon:"ChevronRight",size:"20px"}),u&&(0,r.jsx)(c.A,{icon:"LastPage",size:"20px"}),x]})})}));d.displayName="PaginationItem",d.defaultProps={className:void 0,isDisabled:!1,isActive:!1,isPrev:!1,isFirst:!1,isNext:!1,isLast:!1,children:null,onClick:void 0};const o=(0,a.forwardRef)(((e,s)=>{let{ariaLabel:l,className:a,children:i,size:t,...c}=e;return(0,r.jsx)("nav",{ref:s,"aria-label":l,className:a,...c,children:(0,r.jsx)("ul",{className:n()("pagination",{[`pagination-${t}`]:t},"m-0"),children:i})})}));o.displayName="Pagination",o.defaultProps={className:void 0,size:null};const u=o,x=e=>{let{children:s,value:l,disabled:a,ariaLabelledby:i,...t}=e;return(0,r.jsx)("option",{value:l,disabled:a,"aria-labelledby":i||s,...t,children:s})};x.defaultProps={disabled:!1,ariaLabelledby:null,value:void 0};const h=e=>{let{list:s}=e;return null===s||void 0===s?void 0:s.map((e=>(0,r.jsx)(x,{value:e.value,...e,children:e.text||e.label},e.value)))},m=x,p=e=>{let{isTouched:s,invalidFeedback:l,validFeedback:i,isTooltip:t}=e;const c=(0,a.useRef)(null);return(0,a.useEffect)((()=>{if(t)for(let i=0;i<(null===c||void 0===c||null===(e=c.current)||void 0===e?void 0:e.parentNode.classList.length);i+=1){var e,s,l,a;if(["input-group"].includes(null===c||void 0===c||null===(s=c.current)||void 0===s?void 0:s.parentNode.classList[i]))null===c||void 0===c||null===(l=c.current)||void 0===l||l.parentNode.parentNode.classList.add("position-relative");else null===c||void 0===c||null===(a=c.current)||void 0===a||a.parentNode.classList.add("position-relative")}})),s&&l?(0,r.jsx)("div",{ref:c,className:n()({"invalid-feedback":!t,"invalid-tooltip":t}),children:l}):!l&&i&&(0,r.jsx)("div",{ref:c,className:n()({"valid-feedback":!t,"valid-tooltip":t}),children:i})};p.defaultProps={isTouched:!1,invalidFeedback:void 0,validFeedback:void 0,isTooltip:!1};const v=p,j=(0,a.forwardRef)(((e,s)=>{let{id:l,name:a,className:i,children:t,required:c,placeholder:d,ariaDescribedby:o,ariaLabelledby:u,ariaLabel:x,list:p,multiple:j,title:b,size:g,disabled:N,value:f,defaultValue:y,isValid:k,isTouched:C,invalidFeedback:w,validFeedback:F,isValidMessage:S,isTooltipFeedback:A,onBlur:P,onChange:L,onFocus:z,onInput:D,onInvalid:T,onSelect:I,...R}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("select",{ref:s,id:l,className:n()("form-select",{[`form-select-${g}`]:g,"text-muted":""===f&&d,"is-invalid":!k&&C&&w,"is-valid":!k&&C&&!w},i),name:a,"aria-label":x,"aria-describedby":o,"aria-labelledby":u,multiple:j,disabled:N,title:b,value:f,defaultValue:y,required:c,onBlur:P,onChange:L,onFocus:z,onInput:D,onInvalid:T,onSelect:I,...R,children:[d&&(0,r.jsx)(m,{value:"",hidden:!0,children:d}),t||p&&(0,r.jsx)(h,{list:p})]}),S&&(0,r.jsx)(v,{isTouched:C,invalidFeedback:w,validFeedback:F,isTooltip:A})]})}));j.displayName="Select",j.defaultProps={id:void 0,className:void 0,name:void 0,children:null,placeholder:void 0,multiple:!1,size:void 0,disabled:!1,required:!1,ariaDescribedby:void 0,ariaLabelledby:void 0,title:void 0,value:void 0,defaultValue:void 0,list:void 0,isTouched:!1,isValid:!1,invalidFeedback:void 0,validFeedback:void 0,isValidMessage:!0,isTooltipFeedback:!1,onBlur:void 0,onChange:void 0,onFocus:void 0,onInput:void 0,onInvalid:void 0,onSelect:void 0};const b=j,g={3:3,5:5,10:10,25:25,50:50},N=(e,s,l)=>e.filter(((e,a)=>a+1>(s-1)*l&&a+1<=s*l)),f=e=>{let{setCurrentPage:s,currentPage:l,perPage:a,setPerPage:t,data:n,label:c}=e;const o=n.length,x=Math.ceil(o/a);return(0,r.jsxs)(i.A,{className:"row w-100",children:[(0,r.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-7",children:(0,r.jsx)("span",{className:"text-muted",children:(()=>{const e=a*(l-1)+1,s=a*l;return(0,r.jsxs)("span",{className:"pagination__desc",children:["Showing ",e," to ",s>o?o:s," of ",o," ",c]})})()})}),(0,r.jsxs)("div",{className:"d-flex justify-content-end col-sm-12 col-md-6 col-lg-5",children:[x>1&&(0,r.jsxs)(u,{ariaLabel:c,children:[(0,r.jsx)(d,{isFirst:!0,isDisabled:!(l-1>0),onClick:()=>s(1)}),(0,r.jsx)(d,{isPrev:!0,isDisabled:!(l-1>0),onClick:()=>s(l-1)}),l-1>1&&(0,r.jsx)(d,{onClick:()=>s(l-2),children:"..."}),(()=>{let e=[],a=l-1;for(;a>=l-1&&a>0;)e.push((0,r.jsx)(d,{onClick:()=>s(l-1),children:a},a)),a-=1;for(e=e.reverse(),e.push((0,r.jsx)(d,{isActive:!0,onClick:()=>s(l),children:l},l)),a=l+1;a<=l+1&&a<=x;)e.push((0,r.jsx)(d,{onClick:()=>s(l+1),children:a},a)),a+=1;return e})(),l+1<x&&(0,r.jsx)(d,{onClick:()=>s(l+2),children:"..."}),(0,r.jsx)(d,{isNext:!0,isDisabled:!(l+1<=x),onClick:()=>s(l+1)}),(0,r.jsx)(d,{isLast:!0,isDisabled:!(l+1<=x),onClick:()=>s(x)})]}),(0,r.jsx)(b,{style:{width:"67px",padding:" 0px 0px 0px 12px"},ariaLabel:"Per",onChange:e=>{t(parseInt(e.target.value,10)),s(1)},value:a.toString(),children:Object.keys(g).map((e=>(0,r.jsx)(m,{value:e,children:e},e)))})]})]})};f.defaultProps={label:"items"};const y=f},9632:(e,s,l)=>{l.d(s,{A:()=>i});var a=l(5043);const i=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[l,i]=(0,a.useState)(s);return{items:(0,a.useMemo)((()=>{const s=[...e];return null!==l&&s.sort(((e,s)=>{const a=e[l.key],i=s[l.key];if(!isNaN(Date.parse(a))&&!isNaN(Date.parse(i))){const e=new Date(a),s=new Date(i);if(e<s)return"ascending"===l.direction?-1:1;if(e>s)return"ascending"===l.direction?1:-1}else{if(a<i)return"ascending"===l.direction?-1:1;if(a>i)return"ascending"===l.direction?1:-1}return 0})),s}),[e,l]),requestSort:e=>{let s="ascending";l&&l.key===e&&"ascending"===l.direction&&(s="descending"),i({key:e,direction:s})},getClassNamesFor:e=>l&&l.key===e?l.direction:"d-none",sortConfig:l}}},9033:(e,s,l)=>{l.d(s,{A:()=>i});l(5043);var a=l(579);const i=e=>{let{isoString:s}=e;const l=new Date(s).toLocaleString();return(0,a.jsx)(a.Fragment,{children:l})}},1310:(e,s,l)=>{l.r(s),l.d(s,{default:()=>v});var a=l(5043),i=(l(1511),l(3219)),t=l(3471),n=l(3216),c=l(5475),r=l(3003),d=l(3686),o=l(9033),u=l(6792),x=l(5206),h=l(5061),m=l(9632),p=l(579);const v=()=>{var e,s,l,v;const j=(0,r.wA)(),b=(0,r.d4)((e=>e)),[g,N]=(0,a.useState)([]),{loading:f}=null===b||void 0===b?void 0:b.script,y=null===b||void 0===b||null===(e=b.script)||void 0===e||null===(s=e.Scripts)||void 0===s?void 0:s.results,[k,C]=(0,a.useState)(null);(0,a.useEffect)((()=>{const e=localStorage.getItem("login");e&&C(JSON.parse(e))}),[]),(0,a.useEffect)((()=>{if(k){(async()=>{try{await j((0,d.Y0)({token:null===k||void 0===k?void 0:k.access}))}catch(e){console.log(e)}})()}}),[k]);const[w,F]=(0,a.useState)(1),[S,A]=(0,a.useState)(x.CQ[10]),[P,L]=(0,a.useState)(!1),[z,D]=(0,a.useState)(!1),T=(0,n.Zp)(),I=e=>{e&&e.stopPropagation();const s=Array.from(document.querySelectorAll('#scriptsCheckboxes input[type="checkbox"]:checked')).map((e=>e.value));N(s)},{items:R,requestSort:_,getClassNamesFor:q}=(0,m.A)(y||[]),V=g.length===R.length;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"mx-4",children:[(0,p.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3",children:[(0,p.jsxs)("h1",{className:"h1",children:["Tape Summary ",(0,p.jsxs)("span",{id:"headerInfo",children:["(",R.length,")"]})]}),(0,p.jsx)("div",{className:"btn-toolbar mb-2 mb-md-0",children:(0,p.jsx)("button",{className:"btn bg-green opacity-100 text-light col py-2 px-3 justify-content-center",type:"button",onClick:()=>{if(g.length>0){const e=new URLSearchParams({scriptIds:g.join(",")}).toString();T(`/account/${i.on.TapeSummaryResult.path}?${e}`)}},disabled:0===g.length,children:"Get Result"})})]}),(0,p.jsx)("div",{children:f?(0,p.jsx)("span",{className:"text-large",children:(0,p.jsx)(u.A,{})}):(0,p.jsxs)("div",{style:{overflow:"auto"},id:"customReportForm",children:[(0,p.jsx)("div",{className:"py-2",children:(0,p.jsx)(x.Ay,{data:R,label:"Scripts",setCurrentPage:F,currentPage:w,perPage:S,setPerPage:A})}),(0,p.jsxs)("table",{className:"table",style:{minWidth:"1000px"},children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{className:"fw-bold mb-2 p-2",children:[(0,p.jsx)("th",{scope:"col",className:"col-1",children:(0,p.jsx)("input",{type:"checkbox",id:"selectAllCheckbox",checked:V,onChange:e=>{if(e.target.checked){const e=R.map((e=>e.id));N(e)}else N([])}})}),(0,p.jsx)("th",{scope:"col",className:"col-4",onClick:()=>_("name"),children:(0,p.jsxs)("h6",{children:[(0,p.jsx)("span",{children:"Name"}),(0,p.jsx)(h.A,{size:"10px",className:q("name"),icon:"FilterList"})]})}),(0,p.jsx)("th",{scope:"col",className:"col-1 text-center mx-auto",onClick:()=>_("category.name"),children:(0,p.jsxs)("h6",{children:[(0,p.jsx)("span",{children:"Category"}),(0,p.jsx)(h.A,{size:"10px",className:q("category.name"),icon:"FilterList"})]})}),(0,p.jsx)("th",{scope:"col",className:"col-2 text-center mx-auto",onClick:()=>_("sub category 1 "),children:(0,p.jsxs)("h6",{children:[(0,p.jsx)("span",{children:"Sub Category 1 "}),(0,p.jsx)(h.A,{size:"10px",className:q("sub category 1 "),icon:"FilterList"})]})}),(0,p.jsx)("th",{scope:"col",className:"col-2 text-center mx-auto",onClick:()=>_("sub category 1 "),children:(0,p.jsxs)("h6",{children:[(0,p.jsx)("span",{children:"Sub Category 2 "}),(0,p.jsx)(h.A,{size:"10px",className:q("sub category 1 "),icon:"FilterList"})]})}),(0,p.jsx)("th",{scope:"col",className:"col-2 text-center mx-auto",onClick:()=>_("created"),children:(0,p.jsxs)("h6",{children:[(0,p.jsx)("span",{children:"Created"}),(0,p.jsx)(h.A,{size:"10px",className:q("created"),icon:"FilterList"})]})}),(0,p.jsx)("th",{scope:"col",className:"col-2 text-center mx-auto",onClick:()=>_("last_updated"),children:(0,p.jsxs)("h6",{children:[(0,p.jsx)("span",{children:"Updated"}),(0,p.jsx)(h.A,{size:"10px",className:q("last_updated"),icon:"FilterList"})]})})]})}),(0,p.jsx)("tbody",{id:"scriptsCheckboxes",children:R.length>0?(0,x.li)(R,w,S).map(((e,s)=>{var l,a,i,t,n,r;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("tr",{className:"table-card rounded-3 bg-light-green mb-2 p-3",style:{borderRadius:"10px"},children:[(0,p.jsx)("td",{className:"col-1",children:(0,p.jsx)("input",{type:"checkbox",checked:g.includes(e.id),onChange:()=>I(e.id)})}),(0,p.jsx)("td",{className:"col-4",children:(0,p.jsx)(c.N_,{to:`/account/ScriptDetails/${e.id}`,className:"text-decoration-none text-black",children:(0,p.jsx)("span",{className:"fw-bold",children:e.name})})}),(0,p.jsx)("td",{className:"col-1 text-center wrap-word mx-auto",children:null===(l=e.category)||void 0===l||null===(a=l.parent_category)||void 0===a||null===(i=a.parent_category)||void 0===i?void 0:i.name}),(0,p.jsx)("td",{className:"col-2 text-center wrap-word mx-auto",children:null===(t=e.category)||void 0===t||null===(n=t.parent_category)||void 0===n?void 0:n.name}),(0,p.jsx)("td",{className:"col-2 text-center wrap-word mx-auto",children:null===e||void 0===e||null===(r=e.category)||void 0===r?void 0:r.name}),(0,p.jsx)("td",{className:"col-2 text-center mx-auto",children:(0,p.jsx)(o.A,{isoString:e.created})}),(0,p.jsx)("td",{className:"col-2 text-center mx-auto",children:(0,p.jsx)(o.A,{isoString:e.last_updated})})]},s),(0,p.jsx)("tr",{style:{height:"10px"}})]})})):(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:6,children:0===(null===b||void 0===b||null===(l=b.script)||void 0===l||null===(v=l.Scripts)||void 0===v?void 0:v.count)?(0,p.jsx)("p",{children:"No scripts found"}):(0,p.jsx)(u.A,{})})})})]})]})})]}),(0,p.jsx)(t.A,{show:z,handleClose:()=>D(!1)})]})}},1579:(e,s,l)=>{l.d(s,{A:()=>d});var a=l(5043),i=l(8139),t=l.n(i),n=l(7852),c=l(579);const r=a.forwardRef(((e,s)=>{let{className:l,bsPrefix:a,as:i="div",...r}=e;return a=(0,n.oU)(a,"card-footer"),(0,c.jsx)(i,{ref:s,className:t()(l,a),...r})}));r.displayName="CardFooter";const d=r},1511:()=>{}}]);
//# sourceMappingURL=310.d10d4d67.chunk.js.map