"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[291],{4051:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(5043),s=(a(1511),a(5061)),o=a(3216),l=a(1988),i=a(579);function r(e){let{code:t,setCode:a}=e;const[s,o]=(0,n.useState)("python");return(0,i.jsx)("div",{children:(0,i.jsx)(l.A,{value:t,language:"python",placeholder:"Please enter python code.",onChange:e=>a(e.target.value),padding:15,minHeight:300,"data-color-mode":"dark",style:{maxHeight:"500px",overflowY:"auto",fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Consolas, Liberation Mono, Menlo, monospace"}})})}var c=a(3003),d=a(6213),p=a(2879),u=a(4193);const m=()=>{var e;const t=(0,o.Zp)(),a=(0,c.d4)((e=>e)),l=null===a||void 0===a||null===(e=a.script)||void 0===e?void 0:e.Script,m=(0,u.A)(),[h,v]=(0,n.useState)(""),[x,f]=(0,n.useState)((null===l||void 0===l?void 0:l.description)||"");(0,n.useEffect)((()=>{(()=>{const e=null===l||void 0===l?void 0:l.file,t=new XMLHttpRequest;t.open("GET",e,!0),t.onreadystatechange=function(){4===t.readyState&&200===t.status&&v(t.responseText)},t.send()})()}),[l]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"m-4",children:[(0,i.jsxs)("div",{className:"d-flex flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-2 text-center",children:[(0,i.jsx)("button",{className:"btn mb-3",onClick:()=>t(-1),children:(0,i.jsx)(s.A,{icon:"ArrowBack",size:"45px",color:"dark"})})," ",(0,i.jsxs)("h1",{className:"h1 fw-bold ",children:["Editing (",null===l||void 0===l?void 0:l.name,")"]})]}),(0,i.jsx)("div",{className:"d-flex justify-content-center",children:(0,i.jsxs)("form",{className:"w-75",onSubmit:async e=>{e.preventDefault();const a=new FormData,n=new Blob([h],{type:"text/plain"});a.append("file",n,`${null===l||void 0===l?void 0:l.name}.py`),a.append("description",x);try{200===(await d.A.patch(`https://www.olandinvestments.com/api/scripts/${null===l||void 0===l?void 0:l.id}`,a,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${null===p.V||void 0===p.V?void 0:p.V.access}`}})).status&&(t(`/account/ScriptDetails/${null===l||void 0===l?void 0:l.id}`),m.SuccessToast("New Category added successfully"))}catch(s){console.error("Error updating script:",s)}},encType:"multipart/form-data",children:[(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("label",{htmlFor:"Description",className:"form-label",children:"Description"}),(0,i.jsx)("textarea",{rows:3,id:"Description",name:"Description",className:"form-control",value:x,onChange:e=>f(e.target.value),required:!0})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("label",{htmlFor:"Code",className:"form-label",children:"Code"}),(0,i.jsx)(r,{code:h,setCode:v})]}),(0,i.jsx)("div",{className:"mx-auto text-center",children:(0,i.jsx)("button",{type:"submit",className:"btn btn-dark px-5",children:"Save Changes"})})]})})]})})}},1511:()=>{}}]);
//# sourceMappingURL=291.7f873479.chunk.js.map