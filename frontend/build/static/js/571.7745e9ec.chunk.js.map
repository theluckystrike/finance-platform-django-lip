{"version":3,"file":"static/js/571.7745e9ec.chunk.js","mappings":"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","sources":["Comopnent/ui/Modals/NewCategoryModal/NewCategoryModal.tsx","Comopnent/Charts/TreeChart.tsx","pages/UploadScript/CategoryManger.tsx"],"sourcesContent":["import { FC, useState, useEffect } from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { useNavigate } from \"react-router-dom\";\n\ninterface NewCategoryModalProps {\n  show: boolean;\n  handleClose: () => void;\n  selected: string;\n  editingCategory: string | null;\n}\n\nconst NewCategoryModal: FC<NewCategoryModalProps> = ({\n  show,\n  selected,\n  handleClose,\n  editingCategory,\n}) => {\n  const navigate = useNavigate();\n  const [categoryName, setCategoryName] = useState(selected);\n  const [parentCategory, setParentCategory] = useState(\"\");\n  const [isEditing, setIsEditing] = useState(false);\n\n  useEffect(() => {\n    if (editingCategory) {\n      setCategoryName(editingCategory);\n      setIsEditing(true);\n    } else {\n      setCategoryName(\"\");\n      setIsEditing(false);\n    }\n  }, [editingCategory, selected]);\n\n  const handleSave = () => {\n    console.log(\n      \"Saving category:\",\n      categoryName,\n      \"Parent Category:\",\n      parentCategory\n    );\n    handleClose();\n  };\n\n  const handleDelete = () => {\n    console.log(\"Deleting category:\", categoryName);\n    handleClose();\n  };\n\n  return (\n    <Modal\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n      show={show}\n      onHide={handleClose}\n    >\n      <Modal.Body\n        className=\"bg-light-green\"\n        style={{ borderRadius: \"25px\", overflow: \"hidden\" }}\n      >\n        <h4>{isEditing ? \"Edit Category\" : \"Create a Category\"}</h4>\n        <form method=\"post\" encType=\"multipart/form-data\">\n          <div className=\"mb-3\">\n            <div className=\"row mx-0 px-3\">\n              <div className=\"col-12 m-0\">\n                <label htmlFor=\"category\" className=\"form-label\">\n                  Category Name\n                </label>\n                <input\n                  id=\"category\"\n                  name=\"category\"\n                  className=\"form-control m-0\"\n                  value={categoryName}\n                  onChange={(e) => setCategoryName(e.target.value)}\n                  required\n                />\n              </div>\n              <div className=\"col-12 m-0\">\n                <label htmlFor=\"parentCategory\" className=\"form-label\">\n                  Parent Category\n                </label>\n                <select\n                  id=\"parentCategory\"\n                  name=\"parentCategory\"\n                  className=\"form-select m-0\"\n                  value={parentCategory}\n                  onChange={(e) => setParentCategory(e.target.value)}\n                  required\n                >\n                  <option value=\"\" disabled>\n                    All\n                  </option>\n                  {/* Populate this dynamically from your data */}\n                  <option value=\"Returns\">Returns</option>\n                  <option value=\"USD\">USD</option>\n                  <option value=\"Bonds\">Bonds</option>\n                  <option value=\"CAD\">CAD</option>\n                  <option value=\"Breadth\">Breadth</option>\n                </select>\n              </div>\n              <div className=\"col-12 row justify-content-evenly m-0\">\n                <label\n                  style={{ height: \"33px\" }}\n                  htmlFor=\"category\"\n                  className=\"invisible\"\n                >\n                  Actions\n                </label>\n                {isEditing && (\n                  <button\n                    onClick={handleDelete}\n                    className=\"btn btn-danger col-3 px-3 fw-bold\"\n                    type=\"button\"\n                  >\n                    Delete\n                  </button>\n                )}\n                <button\n                  onClick={handleClose}\n                  className=\"btn btn-light border border-2 border-dark col-3 px-3 fw-bold\"\n                  type=\"button\"\n                >\n                  Close\n                </button>\n                <button\n                  onClick={handleSave}\n                  className=\"btn btn-dark col-3 px-3 fw-bold\"\n                  type=\"button\"\n                >\n                  Save\n                </button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </Modal.Body>\n    </Modal>\n  );\n};\n\nexport default NewCategoryModal;\n","import React, { useState } from \"react\";\nimport { FaEdit } from \"react-icons/fa\";\nimport { Categoryarray2 } from \"../../DummyData/TableData\";\nimport NewCategoryModal from \"../ui/Modals/NewCategoryModal/NewCategoryModal\";\n\nconst RenderTree = (data: any, level = 0) => {\n  const [expandedCategories, setExpandedCategories] = useState<string[]>([]);\n  const [selected, setSelected] = useState(\"\");\n  const [show, setShow] = useState(false);\n  const [editingCategory, setEditingCategory] = useState<string | null>(null);\n\n  const handleClose = () => {\n    setShow(false);\n    setEditingCategory(null);\n  };\n\n  const handleShow = (value: any) => {\n    setSelected(value);\n    setShow(true);\n  };\n\n  const toggleExpand = (name: string) => {\n    setExpandedCategories(prev => \n      prev.includes(name) ? prev.filter(category => category !== name) : [...prev, name]\n    );\n  };\n\n  const startEditing = (name: string) => {\n    setEditingCategory(name);\n    handleShow(name);\n  };\n\n  return (\n    <>\n      <ul className=\"tree-class\">\n        {data.map((item: any, index: any) => (\n          <li key={index}>\n            <div>\n              <span\n                onClick={() => toggleExpand(item.name)}\n                style={{ cursor: 'pointer' }}\n              >\n                {item.name}\n                <FaEdit\n                  onClick={(e: any) => {\n                    e.stopPropagation();\n                    startEditing(item.name);\n                  }}\n                  style={{ marginLeft: '8px', cursor: 'pointer' }}\n                />\n              </span>\n              {expandedCategories.includes(item.name) && item.subcategories && (\n                <ul>\n                  {item.subcategories.map((innerItem: any, innerIndex: any) => (\n                    <li key={innerIndex}>\n                      <span\n                        onClick={() => toggleExpand(innerItem.name)}\n                        style={{ cursor: 'pointer' }}\n                      >\n                        {innerItem.name}\n                        <FaEdit\n                          onClick={(e: any) => {\n                            e.stopPropagation();\n                            startEditing(innerItem.name);\n                          }}\n                          style={{ marginLeft: '8px', cursor: 'pointer' }}\n                        />\n                      </span>\n                      {expandedCategories.includes(innerItem.name) && innerItem.subcategories && (\n                        <ul>\n                          {innerItem.subcategories.map(\n                            (subinnerItem: any, subinnerIndex: any) => (\n                              <li key={subinnerIndex}>\n                                <span\n                                  onClick={() => handleShow(subinnerItem)}\n                                  style={{ cursor: 'pointer' }}\n                                >\n                                  {subinnerItem.name}\n                                </span>\n                              </li>\n                            )\n                          )}\n                        </ul>\n                      )}\n                    </li>\n                  ))}\n                </ul>\n              )}\n            </div>\n          </li>\n        ))}\n      </ul>\n      <NewCategoryModal\n        show={show}\n        handleClose={handleClose}\n        selected={selected}\n        editingCategory={editingCategory} \n      />\n    </>\n  );\n};\n\nconst CategoryTree = ({categoryFilter}:any) => {\n  return (\n    <div className=\"category-tree mx-auto w-25\">\n      <h3>Category Tree</h3>\n      {RenderTree(categoryFilter)}\n    </div>\n  );\n};\n\nexport default CategoryTree;\n","import React, { useEffect, useState } from 'react'\nimport OrgChartTree from '../../Comopnent/Charts/TreeChart'\nimport { useNavigate } from 'react-router-dom'\nimport Icon from '../../Comopnent/ui/icon/Icon'\nimport { useGetAllCategoryQuery } from '../../Redux/CategoryQuery'\nimport { loginUSer } from '../../customHook/getrole'\n\nconst CategoryManger = () => {\n  const Navigate =useNavigate()\n\n  const { data: AllCategory, isError } = useGetAllCategoryQuery({ token: loginUSer.access });\n\n  const categoryData = AllCategory?.categories || [];\n\n\n\n\nconst [categoryFilter,setCategoryFilter ]=useState<any>([])\n\nuseEffect(() => {\n  const categoryMap: any = {};\n\n  // Initialize categories in the map\n  categoryData.forEach((cat: any) => {\n    categoryMap[cat.id] = { ...cat, subcategories: [] };\n  });\n\n  // Populate the subcategories\n  categoryData.forEach((cat: any) => {\n    if (cat.parent_name === null) {\n      // Root category, do nothing here\n    } else {\n      // Find the parent category and add the current category as a subcategory\n      const parent:any = Object.values(categoryMap).find(\n        (parentCat: any) => parentCat.name === cat.parent_name\n      );\n      if (parent) {\n        parent.subcategories.push(categoryMap[cat.id]);\n      }\n    }\n  });\n\n  // Extract root categories\n  const structuredCategories = Object.values(categoryMap).filter(\n    (cat: any) => cat.parent_name === null\n  );\nconsole.log(structuredCategories);\n\n  setCategoryFilter(structuredCategories);\n\n}, [categoryData]);\n\n\n\n\n\n\n\n\n\n\n  return (\n    <div className='m-4'>\n         <div className=\"d-flex justify-content-start flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-2 text-center\">\n       <button className='btn mb-3' onClick={()=>Navigate(-1)}><Icon icon='ArrowBack'size='45px'  color=\"dark\"/></button> <h3 className=\"h1 fw-bold\">Category manager</h3>\n      </div>\n        <OrgChartTree categoryFilter={categoryFilter}/>\n    </div>\n  )\n}\n\nexport default CategoryManger"],"names":["_ref","show","selected","handleClose","editingCategory","useNavigate","categoryName","setCategoryName","useState","parentCategory","setParentCategory","isEditing","setIsEditing","useEffect","_jsx","Modal","size","centered","onHide","children","_jsxs","Body","className","style","borderRadius","overflow","method","encType","htmlFor","id","name","value","onChange","e","target","required","disabled","height","onClick","handleDelete","console","log","type","handleSave","RenderTree","data","expandedCategories","setExpandedCategories","setSelected","setShow","setEditingCategory","handleShow","toggleExpand","prev","includes","filter","category","startEditing","_Fragment","map","item","index","cursor","FaEdit","stopPropagation","marginLeft","subcategories","innerItem","innerIndex","subinnerItem","subinnerIndex","NewCategoryModal","categoryFilter","CategoryManger","Navigate","AllCategory","isError","useGetAllCategoryQuery","token","loginUSer","access","categoryData","categories","setCategoryFilter","categoryMap","forEach","cat","parent_name","parent","Object","values","find","parentCat","push","structuredCategories","Icon","icon","color","OrgChartTree"],"sourceRoot":""}