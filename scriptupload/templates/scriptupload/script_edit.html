{% extends 'scriptupload/base.html' %}
{% load static %}

{% block content %}

<div class="flex justify-center items-top h-screen">
    <div class="flex flex-col w-3/4">
        <div class="flex-none text-left p-6 text-xl font-bold">
            {{ script.name }} - edit code
        </div>
        <div class="flex-1 text-left p-3">
            window

            <form method="POST" class="border border-gray-400">
                {% csrf_token %}
                <textarea id="code-editor" name="edited_content">{{ file_contents }}</textarea>
                <button type="submit">Save Changes</button>
            </form>

            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/codemirror.min.css">
            <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/codemirror.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/mode/python/python.min.js"></script>
            
            <!-- Initialize CodeMirror -->
            <script>
                var editor = CodeMirror.fromTextArea(document.getElementById("code-editor"), {
                    mode: "python",  // Set the language mode
                    theme: "default",  // Choose a theme
                    lineNumbers: true,  // Show line numbers
                    lineWrapping: true,  // Wrap long lines
                });
            </script>


        </div>

    </div>

</div>

{% endblock %}